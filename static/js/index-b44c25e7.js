var es=Object.defineProperty;var ts=(_,t,e)=>t in _?es(_,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[t]=e;var l=(_,t,e)=>(ts(_,typeof t!="symbol"?t+"":t,e),e);import{ae as vt,o as g,S as M,R as u,an as xl,T as wl,ao as ls,d as J,b as le,i as ss,c as D,O as i,P as F,ag as G,u as c,B as ve,a as E,V as b,W as I,X as pe,y as j,U as Rl,J as he,ap as mt,aq as ml,n as as,L as ns,e as gt,I as is,ar as gl,as as pl,w as Cl}from"./@vue-bdb2277e.js";/* empty css                    */import{E as fl,a as Al,b as Ge,c as it,d as We,e as ke,f as Me,g as je,h as Ee,i as Xe,j as ct,k as rs,l as El,m as Kl,n as os,o as Il,p as Tl,q as Ll,r as us,s as cs,t as ds}from"./element-plus-34c413bd.js";import{l as _s}from"./vatex-78d4f00e.js";import{c as hs,a as ms,u as gs,b as ps}from"./vue-router-bd740f5d.js";import{l as B}from"./lodash-es-f1aaab28.js";import{u as fs}from"./vue-clipboard3-9b4f599e.js";import{u as As,k as Es}from"./@element-plus-4ec88518.js";import{V as Is}from"./vue-json-pretty-669db37d.js";import{B as St}from"./vue-echarts-d5ebf598.js";import{C as Ts}from"./color-b12075af.js";import{u as bt,i as Dl,a as Nt,b as xt,c as wt,d as Rt,e as Ls,f as Ds,g as vs,h as Ss,j as bs}from"./echarts-1feb4f9d.js";import{d as de,l as Ns,a as Kt,b as xs,w as ws}from"./assets-ed5b024e.js";import{X as Rs}from"./x2js-8ae16efe.js";import"./async-validator-dee29e8b.js";import"./@vueuse-faa79565.js";import"./@ctrl-f8748455.js";import"./@sxzz-c75af06c.js";import"./memoize-one-297ddbcb.js";import"./escape-html-099bfe2e.js";import"./@xmldom-8222efe8.js";import"./normalize-wheel-es-ed76fb12.js";import"./katex-32f78592.js";import"./clipboard-77e6e508.js";import"./vue-743ac1ca.js";import"./resize-detector-a5205554.js";import"./color-string-327061cf.js";import"./color-name-b7949e8c.js";import"./simple-swizzle-d8bc59f1.js";import"./is-arrayish-4445f582.js";import"./color-convert-01838e1d.js";import"./tslib-54e39b60.js";import"./zrender-5b234405.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=e(a);fetch(a.href,n)}})();const Ye=(_,t)=>{const e=_.__vccOpts||_;for(const[s,a]of t)e[s]=a;return e},Cs={};function Ks(_,t){const e=vt("router-view");return g(),M(e,null,{default:u(({Component:s})=>[(g(),M(xl,null,[(g(),M(wl(s)))],1024))]),_:1})}const Os=Ye(Cs,[["render",Ks]]),ys="modulepreload",Ps=function(_,t){return new URL(_,t).href},bl={},ge=function(t,e,s){if(!e||e.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(e.map(n=>{if(n=Ps(n,s),n in bl)return;bl[n]=!0;const o=n.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(!!s)for(let p=a.length-1;p>=0;p--){const x=a[p];if(x.href===n&&(!o||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${r}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":ys,o||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),o)return new Promise((p,x)=>{h.addEventListener("load",p),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})},ks=(_,t)=>{const e=_[t];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((s,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t)))})},Ol=[{name:"user",label:"User"},{name:"towers",label:"Towers"},{name:"wolfs",label:"Wolfs"},{name:"umaps",label:"Umaps"},{name:"umapdetail",label:"Umap Detail"},{name:"dmaps",label:"Dream Maps"},{name:"dmap-detail",label:"Dream Map Detail"},{name:"wolf-calc",label:"Wolf Calculation"},{name:"baoxiang",label:"Baoxiang Properties"},{name:"dream-design",label:"Dream Design"},{name:"tower-design",label:"Tower Design"}],Ms=[{path:"/",name:"index",component:()=>ge(()=>Promise.resolve().then(()=>$s),void 0,import.meta.url),children:Ol.map(_=>({path:"/"+_.name,name:_.name,meta:{keepAlive:!0},component:()=>ks(Object.assign({"../views/sections/baoxiang.vue":()=>ge(()=>Promise.resolve().then(()=>la),void 0,import.meta.url),"../views/sections/dmap-detail.vue":()=>ge(()=>Promise.resolve().then(()=>ba),void 0,import.meta.url),"../views/sections/dmaps.vue":()=>ge(()=>Promise.resolve().then(()=>Ca),void 0,import.meta.url),"../views/sections/dream-design.vue":()=>ge(()=>Promise.resolve().then(()=>Pa),void 0,import.meta.url),"../views/sections/tower-design.vue":()=>ge(()=>Promise.resolve().then(()=>ja),void 0,import.meta.url),"../views/sections/towers.vue":()=>ge(()=>Promise.resolve().then(()=>Ja),void 0,import.meta.url),"../views/sections/umapdetail.vue":()=>ge(()=>Promise.resolve().then(()=>gn),void 0,import.meta.url),"../views/sections/umaps.vue":()=>ge(()=>Promise.resolve().then(()=>Tn),void 0,import.meta.url),"../views/sections/user.vue":()=>ge(()=>Promise.resolve().then(()=>Dn),void 0,import.meta.url),"../views/sections/wolf-calc.vue":()=>ge(()=>Promise.resolve().then(()=>kn),void 0,import.meta.url),"../views/sections/wolfs.vue":()=>ge(()=>Promise.resolve().then(()=>Qn),void 0,import.meta.url)}),`../views/sections/${_.name}.vue`)}))}],Fs=hs({history:ms("/tdsheepvillage-view/"),routes:Ms});const yl=ls(Os);yl.use(Fs).use(_s);yl.mount("#app");const Us={class:"content"},Vs=J({__name:"index",setup(_){const t=gs(),e=ps(),s=le(""),a=(n,o)=>{t.push({name:n.paneName})};return ss(()=>{s.value=e.name}),(n,o)=>{const r=fl,m=Al,h=vt("router-view");return g(),D("main",null,[i(m,{modelValue:c(s),"onUpdate:modelValue":o[0]||(o[0]=p=>ve(s)?s.value=p:null),type:"card",onTabClick:a},{default:u(()=>[(g(!0),D(F,null,G(c(Ol),p=>(g(),M(r,{key:p.name,label:p.label,name:p.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),E("div",Us,[i(h,null,{default:u(({Component:p})=>[(g(),M(xl,null,[(g(),M(wl(p)))],1024))]),_:1})])])}}});const $s=Object.freeze(Object.defineProperty({__proto__:null,default:Vs},Symbol.toStringTag,{value:"Module"}));function Bs(_,t=!1){t||(_=_.toLowerCase());let e=1315423911;for(let s=_.length-1;s>=0;s--)e^=(e<<5)+_.charCodeAt(s)+(e>>2);return e&2147483647}const Hs=function(_){return/^[a-zA-Z]+$/.test(_)},Gs=function(_,t){return _<t?-1:_>t?1:0};function*Ws(_){let t=0;for(const e of _)t+=e,yield t}function Fe(_){if(_===0)return 1;if(_=Math.abs(_),_%1===0)return Math.pow(10,Math.floor(Math.log10(_)));const t=_.toString();return Math.pow(10,t.indexOf(".")-t.length+1)}function Ot(_){return B.mapValues(_,(t,e)=>yt(t,e))}function yt(_,t){return B.mapValues(_,(e,s)=>js(e,t,s))}function js(_,t,e){return{..._,type:t,id:e}}const N=function(){const _=new Rs;let t=de.camp_system_simple;const e=r=>parseInt(new RegExp("(?<=m).+(?=[A-Z]*)").exec(Hs(r[r.length-1])?r:r+"A")[0],36),s=Object.keys(de.umaps).sort((r,m)=>Gs(e(r),e(m))),a=Ot(de.building),n=Ot(de.skill),o={$_global_language_str:_.xml2dom(Ns),$_global_properties:Ot(de.properties),$_skillAtt_Obj:n,$_skillPackage_Obj:de.skill_package,$_map_Obj:de.umaps,$_towerAtt_Obj:a.tower,$_bulletAtt_Obj:de.bullet,$_wolfAtt_Obj:yt(de.wolfs,"wolf"),$_wallAtt_Obj:a.wall,$_barrierAtt_Obj:de.barrier,$_level_up_gift:de.level_up_gift,$_pass_map_gift:de.pass_map_gift,$Maps:de.version_ctrl.Maps,$_wolfs_unlock_lv:t.camp_wolf_lv_max_factor,$_wolfs_unlock_gold:t.camp_wolf_gold_max_factor,$_camp_hold_time:t.hold_time,$_camp_pk_cd_time:t.pk_cd_time,$_camp_pk_times_max:t.pk_times_max,$_camp_defend_times_max:t.defend_times_max,$_camp_pk_arena_times_max:t.pk_arena_times_max,$_camp_defend_arena_times_max:t.defend_arena_times_max,$_camp_mining_rate:t.mine_rate,$_camp_sell_building_dis:t.sell_building_dis,$_tower_worth_factor:t.tower_worth_factor,$_wolf_worth_factor:t.wolf_worth_factor,$_defend_map_snarp_max:t.defend_map_snarp_max,$_defend_succ_factor:t.defend_succ_factor,$_defend_failed_factor:t.defend_failed_factor,$_defend_arena_succ_factor:t.defend_arena_succ_factor,$_defend_arena_failed_factor:t.defend_arena_failed_factor,$_conflict_skill_kind:t.conflict_skill_kind,$_skill_lvup_spend:t.skill_lvup_spend,$_skill_grade_score:t.skill_grade_score,$_camp_use_exp_wolf_max:t.use_exp_wolf_max,$_camp_use_exp_tower_max:t.use_exp_tower_max,$_camp_wolf_lv_max:t.wolf_lv_max,$_camp_need_user_level:t.camp_need_user_level,$_camp_arena_need_user_level:t.arena_need_user_level,$_camp_create_mine_help_max:t.create_mine_help_max,$_camp_create_mine_help_friends_num:t.create_mine_help_friends_num,$_dream_wolf_hard_ness:Kt.dm_wolf_hard_ness,umapsById:s.map(r=>[r,de.umaps[r]]),dream_data:Kt,dream_maps:yt(Kt.dmaps,"dmaps"),dream_waves:xs,skillTemplates:B.chain(Object.values(n.towerSkill)).groupBy(r=>r.kindId).mapValues(r=>({id:r[0].id,params:r[0].params})).value()};return console.log("init",o.umapsById),o}(),ht=_=>B.mapValues(_,t=>{let e=t.name;return e.includes("^")?e.substring(e.indexOf("^")+1):e}),Pt=Object.assign({},ht(N.$_map_Obj),ht(N.$_wolfAtt_Obj),ht(N.$_towerAtt_Obj),...Object.values(N.$_global_properties).map(_=>ht(_)));console.log("dict",Pt);function fe(_){return typeof _=="string"?Pt[_]:_.map(t=>Pt[t])}const Xs={key:0},Ys={key:0},zs={class:"ml-4"},qs={key:1},Js={key:1},Zs={key:0},Qs={key:1},ea={class:"ml-4"},ta=J({__name:"baoxiang",setup(_){const t=B.chain(N.$_global_properties.card).values().filter(e=>e.id.startsWith("baoxiang")).sortBy(e=>Math.abs(e.index)).value();return(e,s)=>{const a=Ge,n=it,o=We;return g(),D("div",null,[i(o,{data:c(t),style:{"font-size":"small"}},{default:u(()=>[i(a,{label:"id",prop:"id",width:120}),i(a,{label:"name",prop:"name",width:160}),i(a,{label:"open_num",prop:"open_num",width:100}),i(a,{label:"info",prop:"info",width:400}),i(a,{label:"data"},{default:u(r=>[r.row.default_gift?(g(),D("ul",Xs,[(g(!0),D(F,null,G(r.row.default_gift,(m,h)=>(g(),D(F,{key:h},[String(h)=="properties"?(g(),D("li",Ys,[i(n,{type:"warning"},{default:u(()=>[b(I(h),1)]),_:2},1024),E("ul",zs,[(g(!0),D(F,null,G(m,(p,x)=>(g(),D("li",{key:x},[i(n,null,{default:u(()=>[b(I(x),1)]),_:2},1024),(g(!0),D(F,null,G(p,(v,L)=>(g(),M(n,{key:L,type:"info",title:L},{default:u(()=>[b(I(c(fe)(String(L)))+": "+I(v),1)]),_:2},1032,["title"]))),128))]))),128))])])):(g(),D("li",qs,[i(n,{type:"warning"},{default:u(()=>[b(I(h),1)]),_:2},1024),i(n,{type:"info"},{default:u(()=>[b(I(m),1)]),_:2},1024)]))],64))),128))])):pe("",!0),r.row.data?(g(),D("ul",Js,[(g(!0),D(F,null,G(r.row.data,m=>(g(),D(F,{key:m[0]},[m[1]=="invite_score"?(g(),D("li",Zs,[i(n,{type:"success"},{default:u(()=>[b(I(m[0]),1)]),_:2},1024),i(n,{type:"warning"},{default:u(()=>[b(I(m[1]),1)]),_:2},1024),i(n,null,{default:u(()=>[b(I(m[2]),1)]),_:2},1024)])):pe("",!0),m[1]=="properties"?(g(),D("li",Qs,[i(n,{type:"success"},{default:u(()=>[b(I(m[0]),1)]),_:2},1024),i(n,{type:"warning"},{default:u(()=>[b(I(m[1]),1)]),_:2},1024),E("ul",ea,[(g(!0),D(F,null,G(m[2],h=>(g(),D("li",{key:h[0]},[i(n,{type:"success"},{default:u(()=>[b(I(h[0]),1)]),_:2},1024),i(n,{type:"warning"},{default:u(()=>[b(I(h[1]),1)]),_:2},1024),i(n,null,{default:u(()=>[(g(!0),D(F,null,G(h[2],p=>(g(),M(n,{title:p,type:"info",key:p},{default:u(()=>[b(I(c(fe)(p)),1)]),_:2},1032,["title"]))),128))]),_:2},1024)]))),128))])])):pe("",!0)],64))),128))])):pe("",!0)]),_:1})]),_:1},8,["data"])])}}}),la=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),_e=class _e{static formatTime(t,e=!1){let s=t%60,a=Math.floor(t/60)%60,n=Math.floor(t/3600),o="";if(e){if(n>0)return o=n.toString()+d.getLanguageStr(21),o+(a.toString()+d.getLanguageStr(22));if(a>0)return o+=a.toString()+d.getLanguageStr(22),o+(s.toString()+d.getLanguageStr(23));s>=0&&(o+=s.toString()+d.getLanguageStr(23))}else n>=0&&(o=(n>9?n.toString():"0"+n.toString())+":"),a>=0&&(o+=(a>9?a.toString():"0"+a.toString())+":"),s>=0&&(o+=Math.floor(s)>9?Math.floor(s).toString():"0"+Math.floor(s).toString());return o}static formatTime_day(t){let e=Math.floor(t/3600),s=Math.floor(e/24),a=Math.ceil(t/60)%60,n=e%24,o="";return s>0&&(o=s.toString()+d.getLanguageStr(20)),n>0&&(o+=n.toString()+d.getLanguageStr(21)),a>0&&(o+=a.toString()+d.getLanguageStr(22)),o}static formatTime_M(t,e=!1){let s=Math.floor(t/60)%60,a=Math.floor(t/3600),n="";return e?a>0?(n=a.toString()+d.getLanguageStr(21),n+(s.toString()+d.getLanguageStr(22))):s>0?n+(s.toString()+d.getLanguageStr(22)):d.getLanguageStr(24):(a>=0&&(n=a.toString()+":"),s>=0&&(n+=s.toString()+":"),n)}static getElementNum(t){let e,s=0;for(e in t)s++;return s}static randomElement(t){let e,s=0,a=_e.getElementNum(t),n=Math.floor(Math.random()*a);for(e of t){if(s==n)return e;s++}return null}static formatHtmlText_normal(t,e=10,s=3355443,a=""){return _e.formatHtmlText(t,s,!1,14,a,e)}static getSimpleNumStr(t,e=!1){let s;return t>1e4?(s=e?d.getLanguageStr(116):d.getLanguageStr(108),Math.round(t/1e4)+s):String(t)}static getValueByIndex(t,e){for(const s in e)if(s!=_e.DEFAULT){const a=_e.getIDPos(s);if(t>=a.x&&t<=a.y)return e[s]}return e[_e.DEFAULT]??1}static getIDPos(t){var e=t.indexOf("_");return{x:parseInt(t.slice(0,e)),y:parseInt(t.slice(e+1,t.length))}}static fillSpace(t,e=10,s=!0){let a=0,n=0,o=0,r=0,m="";for(n=0;n<t.length;n++)o=t.charCodeAt(n),o>=32&&o<=126?a=1:a=2,r+=a;for(n=r;n<e;n++)m+=" ";return s?m+=t:m=t+m,m}static formatHtmlText(t,e=3355443,s=!1,a=14,n="",o=12,r=null){let m="",h="",p="#"+e.toString(16);return o<1e3?(m=t,h=_e.formatLine(m,`
`,o*2,r)):h=t,s?'<font color="'+p+'" size="'+a+'" face="'+n+'"><b>'+h+"</b></font>":'<font color="'+p+'" size="'+a+'" face="'+n+'">'+h+"</font>"}static getLine(t=40,e="=",s="",a=5){let n=0,o="";for(e==""&&(e="="),s==""&&(s="left"),n=0;n<t;n++)o+=e;return HtmlTextFormat.format(o,s,6316128,a)}static formatHtmlTextBr(t,e="left"){let s="";for(let a=0;a<t.length;a++)s+='<P ALIGN="'+e+'">'+t[a]+"</P>";return s}static formatLine(t,e=`
`,s=16,a=null){let n=0,o=0,r=0,m=null,h="",p=0;for(a==null&&(a=[]),s<=1&&(s=2),n=0;n<t.length;n++)r=t.charCodeAt(n),m=t.charAt(n),m==`
`?(p=0,h+=m):(a.indexOf(m)!=-1?o=0:r>=32&&r<=126?o=1:o=2,p+=o,p>s&&(h+=e,p=o),h+=m);return h}static clearLine(t){return t=t.replace(`
`,""),t=t.replace("<br>",""),t.replace("</br>","")}static isHtml(t){let e=t.indexOf("<"),s=t.indexOf(">");return e!=-1&&s!=-1&&e<s}static insertStr(t,e=`
`,s=4,a=1){let n="",o="",r=0;for(a<=0&&(a=int.MAX_VALUE),s<=0&&(s=1);r<a;)o=t.substr(r*s,s),r++,o.length!=s&&(n+=o),o+=e,n+=o;return n+t.substr(r*s)}static getGlobalAttValue_byID(t,e=0){return t["id_"+e]}static setObjAttributeValue(t,e,s){for(let a=0;a<e.length;a++)t[e[a][s]]=e[a];return t}static getObjAttributeValue(t,e){return t[e]==null&&t[e]==null?null:t[e]}static isNullAndUndefined(t){return t==null||t==null}static isNullForArray(t){return!(t!=null&&t.length>0)}static addObjectNewAtt(t,e){let s=null;if(!_e.isNullAndUndefined(e))for(s in e)t[s]=e[s];return t}static isSameDate(t,e){return!t||!e?!1:t.getUTCFullYear()==e.getUTCFullYear()&&t.getUTCMonth()==e.getUTCMonth()&&t.getUTCDate()==e.getUTCDate()}static getRandom(t,e){let s=0;return t==e?t:(t>e&&(s=t,t=e,e=s),s=e-t+1,Math.floor(t+Math.random()*s))}static replaceString(t,e,s){let a=new RegExp(e,"g");return t.replace(a,s)}static getDateSecond(t){return Math.floor(t.getTime()*.001)}static isNoChildrenInArr(t){let e=!1;return t!=null&&t.length>0?e=!1:e=!0,e}static isNoChildrenInObj(t){let e=0,s=null,a=!0;if(t){e=0;for(s in t)e++;e>0&&(a=!1)}return a}static toString(t,e=0,s=!1){let a=0,n=0,o=null,r="";if(e++,t==null)return"null";let m=typeof t,h=0;switch(m){case"number":return t.toString()+"";case"string":return'"'+t+'"';case"object":if(t instanceof Array){if(h=_e.getElementNum(t),h>1)for(e>1&&(r+=`
`),n=0;n<e-1;n++)r+="	";for(r+="[",a=0;a<t.length;a++){if(h>1)for(r+=`
`,n=0;n<e;n++)r+="	";r+=toString(t[a],e),r+=","}if(h>0&&(r=r.slice(0,r.length-1)),h>1)for(r+=`
`,n=0;n<e-1;n++)r+="	";r+="]"}else if(t instanceof Date)r="new Date("+t.getTime()+")";else{if(h=_e.getElementNum(t),h>1)for(e>1&&(r+=`
`),n=0;n<e-1;n++)r+="	";r+="{";for(o in t){if(h>1)for(r+=`
`,n=0;n<e;n++)r+="	";!isNaN(Number(o.slice(0,1)))||o.search(/[^a-zA-Z0-9_]/)!=-1?r+='"'+o+'":'+_e.toString(t[o],e):r+=o+":"+_e.toString(t[o],e),r+=","}if(h>0&&(r=r.slice(0,r.length-1)),h>1)for(r+=`
`,n=0;n<e-1;n++)r+="	";r+="}"}break;case"boolean":return t.toString()+""}return r}static getTodayEndUTCTime(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59)}static replaceAllBySplit(t,e,s){return t==null?null:t.split(e).join(s)}static formatNumberToString(t){let e;return t>=1e3&&t<=9999?(t=Math.floor(t*.001),e=t.toString()+"千"):t>=1e4?(t=Math.floor(t*1e-4),e=t.toString()+"万"):e=t.toString(),e}};l(_e,"DEFAULT","default");let kt=_e;const qe=class qe{static getLanguageStr(t,...e){let s=null,a=null,n="";if(N.$_global_language_str!=null&&(N.$_global_language_str.getElementsByTagName("id"+t)[0]!=null?N.$_global_language_str.getElementsByTagName("id"+t)[0].getAttribute("str")=="CHILD2010"?n=N.$_global_language_str.getElementsByTagName("id"+t)[0].children().toString():n=N.$_global_language_str.getElementsByTagName("id"+t)[0].getAttribute("str"):n=null),n.length<=0)return"";let o=n.search("%%");for(;o!=-1;)a=n.slice(o,o+6),n=n.replace(a,qe.getLanguageStr(parseInt(a.slice(2)))),o=n.search("%%");for(let r=0;r<e.length;r++)s="%"+r,n=kt.replaceString(n,s,e[r]);return n}static getDataProfileTxt(t){let e=null,s=!1,a=null,n=null,o=null,r=t;return t&&(e=String(t),s=e.indexOf(qe.INTER_CONFIG_SPLIT_CHAR)>-1,a=null,n="",o="",s?(a=e.split(qe.INTER_CONFIG_SPLIT_CHAR),n=a[0],o=a[1],N.$_global_dataProfile_txt!=null?(N.$_global_dataProfile_txt.getElementsByTagName(n)[0]!=null?r=N.$_global_dataProfile_txt.getElementsByTagName(n)[0].getAttribute("s").toString():r=o,r=r.replace(/\\n/g,`
`)):r=o):r=e,a=null,e="",n="",o=""),r}};l(qe,"INTER_CONFIG_SPLIT_CHAR","^");let d=qe;const re=class re{constructor(t){l(this,"typeId");l(this,"kindId");l(this,"id");l(this,"name");l(this,"info");l(this,"help");this.typeId=t[re.DATA_TYPE_ID],this.kindId=t[re.DATA_KIND_ID],this.id=t[re.DATA_ID],this.name=d.getDataProfileTxt(t[re.DATA_NAME]),this.info=d.getDataProfileTxt(t[re.DATA_INFO]),this.help=t[re.DATA_HELP]?d.getDataProfileTxt(t[re.DATA_HELP]):""}};l(re,"DATA_TYPE_ID","typeId"),l(re,"DATA_KIND_ID","kindId"),l(re,"DATA_ID","id"),l(re,"DATA_NAME","name"),l(re,"DATA_INFO","info"),l(re,"DATA_HELP","help");let ce=re;const Z=class Z extends ce{constructor(e){super(e);l(this,"res");l(this,"resColor");e[Z.DATA_RESOURCE_CLASS]==null?this.res=e[ce.DATA_ID]:this.res=e[Z.DATA_RESOURCE_CLASS],this.resColor=e[Z.DATA_RESOURCE_COLOR_CLASS]}};l(Z,"TYPE_MONSTER","wolf"),l(Z,"TYPE_TOWER","tower"),l(Z,"TYPE_WALL","wall"),l(Z,"TYPE_BARRIER","barrier"),l(Z,"TYPE_ENTRANCE","typeEntrance"),l(Z,"TYPE_EXPORT","typeExport"),l(Z,"TYPE_BOX","box"),l(Z,"TYPE_GEM_ITEM","gem"),l(Z,"TYPE_TRAP_ITEM","snarp"),l(Z,"TYPE_CARD_ITEM","card"),l(Z,"TYPE_WOLF_CARD_ITEM","wc"),l(Z,"TYPE_TAME_ITEM","tame"),l(Z,"TYPE_FIX_ITEM","bomb"),l(Z,"ID_SPADE_ITEM","mc"),l(Z,"ID_GEM_HAMMER","gem_hammer"),l(Z,"ID_GEM_OPENER","gem_opener"),l(Z,"DATA_RESOURCE_CLASS","res"),l(Z,"DATA_RESOURCE_COLOR_CLASS","resColor");let Se=Z;class ze{constructor(){l(this,"m_manager",{});this.clearData()}getDataById(t){return this.m_manager[t]}get manager(){return this.m_manager}clearData(){this.m_manager=new Object}}class dt{constructor(){l(this,"m_data");this.m_data=new ce({})}get baseData(){return this.m_data}}class sa extends dt{constructor(){super()}}const W=class W extends Se{constructor(e){super(e);l(this,"scoreMax");l(this,"populationMax");l(this,"hardA");l(this,"hardB");l(this,"passBy");l(this,"unkennelDelay");l(this,"unkennelRule");l(this,"bossList");l(this,"monsterList");l(this,"teleportRule");this.scoreMax=e[W.DATA_SCORE_MAX]?e[W.DATA_SCORE_MAX]:W.DEFAULT_SCORE_MAX,this.populationMax=e[W.DATA_POPULATION_MAX]?e[W.DATA_POPULATION_MAX]:W.DEFAULT_POPULATION_MAX,this.hardA=e[W.DATA_HARD_A],this.hardB=e[W.DATA_HARD_B],this.passBy=e[W.DATA_PASS_BY],this.unkennelDelay=e[W.DATA_UNKENNEL_RATE],this.unkennelRule=e[W.DATA_UNKENNEL_RULE],this.bossList=e[W.DATA_BOSS_LIST],this.monsterList=e[W.DATA_MONSTER_LIST]?e[W.DATA_MONSTER_LIST].map(s=>s[1]):[],this.teleportRule=e[W.DATA_TELEPORT_RULE]}getDifficultyLevel(e){return Math.sqrt(this.hardA+this.hardB*e)}};l(W,"DEFAULT_SCORE_MAX",100),l(W,"DEFAULT_POPULATION_MAX",10),l(W,"RULE_MULTICAST",1),l(W,"DATA_SCORE_MAX","pass_score"),l(W,"DATA_POPULATION_MAX","pop_max"),l(W,"DATA_HARD_A","yield_val"),l(W,"DATA_HARD_B","hard_ness"),l(W,"DATA_PASS_BY","passBy"),l(W,"DATA_UNKENNEL_RATE","interval"),l(W,"DATA_UNKENNEL_RULE","interval_rule"),l(W,"DATA_BOSS_LIST","boss"),l(W,"DATA_MONSTER_LIST","wolf_proportion"),l(W,"DATA_TELEPORT_RULE","teleport_rule"),l(W,"DATA_DEBUG","debug");let Mt=W;const Te=class Te extends ze{constructor(){super(),Te.onlyExample=this,this.loadData(N.$_map_Obj)}static getOnlyExample(){return Te.onlyExample==null&&(Te.onlyExample=new Te),Te.onlyExample}loadData(t){for(const e in t){const s=t[e];s[ce.DATA_ID]=e,this.m_manager[e]=new Mt(t[e])}}getData(t){return this.getDataById(t)}};l(Te,"DATA_COUNT",6),l(Te,"onlyExample");let pt=Te;class ee extends dt{constructor(e,s=!0){super();l(this,"score",0);l(this,"isDream",!1);this.m_data=pt.getOnlyExample().getData(e)}static getMapData(e){return pt.getOnlyExample().getData(e)}get gameMapData(){return this.m_data}get canUnkennelAdjust(){return!1}}l(ee,"DEFEND_MAP_1","mfx1"),l(ee,"ENDLESS_MAP_1","m11"),l(ee,"currentMap");function aa(_,t){let e=_.toFixed(8),s=e.indexOf(".");return s==-1||e.length-s-1<=t?e:_.toFixed(t).replace(/\.?0+$/,"")}function Ft(_,t=0,e=!1,s="14",a=""){return`<span style="color:#${t.toString(16).padStart(6,"0")};${e?"font-weight:bold;":""}${s?`font-size:${s};`:""}${a?`font-family:${a};`:""}">${_.replaceAll(`
`,"<br>")}</span>`}function na(_){return Math.floor(_/3600)+":"+Math.floor(_/60%60).toString().padStart(2,"0")+":"+(_%60).toString().padStart(2,"0")}class H extends Se{constructor(t){super(t)}}l(H,"KIND_HIT","hit"),l(H,"KIND_INVASION","invasion"),l(H,"KIND_TELEPORT","teleport"),l(H,"KIND_BUFF_TOP","buffTop"),l(H,"KIND_BUFF_MID","buffMid"),l(H,"KIND_BUFF_BOT","buffBot"),l(H,"KIND_MAGIC","effectMagic"),l(H,"KIND_PATH","effectPath"),l(H,"KIND_CRIT","effectCrit"),l(H,"KIND_SUMMON","effectSummon"),l(H,"KIND_CLOUD","effectCloud"),l(H,"KIND_MIRROR","effectMirror"),l(H,"KIND_CURE","effectCure"),l(H,"KIND_CURE_ONE","effectCureOne"),l(H,"KIND_SNEER","effectSneer"),l(H,"KIND_LINKS","effectLinks"),l(H,"KIND_RELIVE","effectRelive"),l(H,"KIND_SUICIDE","effectSuicide"),l(H,"KIND_BLINK_IN","effectBlinkIn"),l(H,"KIND_BLINK_OUT","effectBlinkOut"),l(H,"KIND_LIGHTNING","lightning"),l(H,"KIND_FIELD_ATTACK","allAttack"),l(H,"KIND_FIELD_ATTACK_AOE","allAttackAOE"),l(H,"KIND_CUSS","effectCuss"),l(H,"KIND_CUSS_BREAK","effectCussBreak"),l(H,"KIND_SIGN_SUMMON","signSummon"),l(H,"KIND_SIGN_CURE","signCure"),l(H,"KIND_SIGN_CLOUD","signCloud"),l(H,"KIND_SIGN_SHIELD","signShield"),l(H,"KIND_SIGN_TRANSFORM","signTransform"),l(H,"KIND_BOSS","effectBoss");const Ne=class Ne extends Se{constructor(e){super(e);l(this,"parameter");l(this,"levels");this.parameter=e[Ne.DATA_PARAMETER],this.levels=e[Ne.DATA_LEVELS]}getLevelParam(e,s){return this.parameter!=null?this.parameter[s]:this.levels!=null?(e=Math.min(Math.max(0,e-1),this.levels.length-1),this.levels[e][s]):null}hasLevel(){return this.parameter==null}};l(Ne,"TYPE_TOWER_SKILL","typeTowerSkill"),l(Ne,"TYPE_MONSTER_SKILL","typeMonsterSkill"),l(Ne,"DATA_PARAMETER","params"),l(Ne,"DATA_LEVELS","levels");let He=Ne;class T extends He{constructor(t){super(t),t[ce.DATA_TYPE_ID]=He.TYPE_TOWER_SKILL}}l(T,"KIND_AURA","Aura"),l(T,"KIND_CHANGE_BULLET","Bultype"),l(T,"KIND_CHANGE_DAMAGE","ChangeDam"),l(T,"KIND_CHANGE_RATE","ChangeRate"),l(T,"KIND_CHANGE_RANGE","ChangeRange"),l(T,"KIND_FIELD_ATTACK","ALLAP"),l(T,"KIND_DIVIDED_ATTACK","DivAP"),l(T,"KIND_SCATTER_ATTACK","ScaAP"),l(T,"KIND_COMBO_ATTACK","ComAP"),l(T,"KIND_GUIDED_BULLET","GuidedBul"),l(T,"KIND_ATTACK_RATE","AttackRate"),l(T,"KIND_AOE_ATTACK","AoeAP"),l(T,"KIND_THROUGHOUT_ATTACK","ThoAP"),l(T,"KIND_BOUNCE_ATTACK","BouAP"),l(T,"KIND_FLOAT_DAMAGE","FloatDam"),l(T,"KIND_CRIT","Crit"),l(T,"KIND_REDUCED_DEFENSE","RedDef"),l(T,"KIND_POISON","Poison"),l(T,"KIND_SLOW","Slow"),l(T,"KIND_BURN_COLD","BC"),l(T,"KIND_BEAT_BACK","Beat"),l(T,"KIND_SILENCE","Silence"),l(T,"KIND_VERTIGO","Vertigo"),l(T,"KIND_INTIMIDATE","Intimidate"),l(T,"KIND_CUSS","Cuss"),l(T,"KIND_BURN","Burn"),l(T,"KIND_COLD","Cold");const A=class A extends He{constructor(t){super(t),t[ce.DATA_TYPE_ID]=He.TYPE_MONSTER_SKILL}static get allMonsterSkill(){return[A.KIND_FLY,A.KIND_AIRBORNE,A.KIND_ISOLATION,A.KIND_RELIVE,A.KIND_SUICIDE,A.KIND_REINCARNATE,A.KIND_RESIST_FIRE,A.KIND_RESIST_FROST,A.KIND_RESIST_POISON,A.KIND_RESIST_BEAT,A.KIND_RESIST_SILENCE,A.KIND_RESIST_VERTIGO,A.KIND_RESIST_CRIT,A.KIND_RESIST_LIGHT,A.KIND_RESIST_STRSMOOTH,A.KIND_SLOWF,A.KIND_WEAK_FIRE,A.KIND_WEAK_FROST,A.KIND_WEAK_POISON,A.KIND_WEAK_BEAT,A.KIND_WEAK_SILENCE,A.KIND_WEAK_VERTIGO,A.KIND_WEAK_CRIT,A.KIND_WEAK_LIGHT,A.KIND_RUN,A.KIND_MIRROR,A.KIND_SUMMON,A.KIND_CLOUD,A.KIND_CURE,A.KIND_BLINK,A.KIND_HIDE,A.KIND_SHIELD,A.KIND_SNEER,A.KIND_TRANSFORM,A.KIND_LINKS]}};l(A,"EVENT_RED",1),l(A,"EVENT_YELLOW",2),l(A,"EVENT_GREEN",3),l(A,"EVENT_FULL",4),l(A,"EVENT_INTIMIDATE",20),l(A,"EVENT_VERTIGO",21),l(A,"EVENT_SILENCE",22),l(A,"EVENT_SLOW",23),l(A,"EVENT_REDUCED_DEFENSE",24),l(A,"EVENT_POISON",25),l(A,"EVENT_BURN",26),l(A,"EVENT_COLD",27),l(A,"EVENT_HIT",40),l(A,"EVENT_CRIT",41),l(A,"EVENT_BEAT_BACK",42),l(A,"EVENT_FRIENT_DIE",43),l(A,"EVENT_DIE",44),l(A,"KIND_FLY","fly"),l(A,"KIND_AIRBORNE","airborne"),l(A,"KIND_ISOLATION","isolation"),l(A,"KIND_RELIVE","revive"),l(A,"KIND_SUICIDE","burst"),l(A,"KIND_REINCARNATE","reborn"),l(A,"KIND_SLOWF","slowf"),l(A,"KIND_RESIST_FIRE","resistFire"),l(A,"KIND_RESIST_FROST","resistFrost"),l(A,"KIND_RESIST_POISON","resistPoison"),l(A,"KIND_RESIST_SLOW","resistSlow"),l(A,"KIND_RESIST_BEAT","resistBeat"),l(A,"KIND_RESIST_SILENCE","resistSilence"),l(A,"KIND_RESIST_VERTIGO","resistVertigo"),l(A,"KIND_RESIST_CRIT","resistCrit"),l(A,"KIND_RESIST_LIGHT","resistLight"),l(A,"KIND_RESIST_INTIMIDATE","resistIntimidate"),l(A,"KIND_WEAK_FIRE","weakFire"),l(A,"KIND_WEAK_FROST","weakFrost"),l(A,"KIND_WEAK_POISON","weakPoison"),l(A,"KIND_WEAK_SLOW","weakSlow"),l(A,"KIND_WEAK_BEAT","weakBeat"),l(A,"KIND_WEAK_SILENCE","weakSilence"),l(A,"KIND_WEAK_VERTIGO","weakVertigo"),l(A,"KIND_WEAK_CRIT","weakCrit"),l(A,"KIND_WEAK_LIGHT","weakLight"),l(A,"KIND_WEAK_INTIMIDATE","weakIntimidate"),l(A,"KIND_RESIST_STRSMOOTH","strsmooth"),l(A,"KIND_RUN","sprint"),l(A,"KIND_MIRROR","divide"),l(A,"KIND_SUMMON","summon"),l(A,"KIND_CLOUD","cloud"),l(A,"KIND_CURE","massTreatment"),l(A,"KIND_BLINK","blink"),l(A,"KIND_HIDE","invisible"),l(A,"KIND_SHIELD","shield"),l(A,"KIND_SNEER","taunt"),l(A,"KIND_TRANSFORM","morph"),l(A,"KIND_LINKS","links");let f=A;const oe=class oe extends ze{constructor(){super(),oe.onlyExample=this,this.loadData(N.$_skillAtt_Obj)}static getOnlyExample(){return oe.onlyExample==null&&(oe.onlyExample=new oe),oe.onlyExample}loadData(t){for(const e in t[oe.TOWER_SKILL]){const s=t[oe.TOWER_SKILL][e];s[ce.DATA_ID]=e,this.m_manager[e]=new T(s)}for(const e in t[oe.MONSTER_SKILL]){const s=t[oe.MONSTER_SKILL][e];s[ce.DATA_ID]=e,this.m_manager[e]=new f(s)}}getData(t){return this.getDataById(t)}};l(oe,"onlyExample"),l(oe,"TOWER_SKILL","towerSkill"),l(oe,"MONSTER_SKILL","monsterSkill"),l(oe,"TRAP_SKILL","trapSkill");let Ut=oe;const Ue=class Ue extends ce{constructor(e){super(e);l(this,"skillsList");e[Ue.DATA_SKILLS_LIST]instanceof Array?this.skillsList=e[Ue.DATA_SKILLS_LIST]:e[Ue.DATA_SKILLS_LIST]instanceof String&&(this.skillsList=[e[Ue.DATA_SKILLS_LIST]])}};l(Ue,"DATA_SKILLS_LIST","skills");let Vt=Ue;const xe=class xe extends ze{constructor(){super(),xe.onlyExample=this,this.loadData(N.$_skillPackage_Obj)}static getOnlyExample(){return xe.onlyExample==null&&(xe.onlyExample=new xe),xe.onlyExample}loadData(t){for(const e in t){const s=t[e];s[ce.DATA_ID]=e,this.m_manager[e]=new Vt(t[e])}}getData(t){return this.getDataById(t)}};l(xe,"onlyExample");let $t=xe;class k{static toPercentage(t){return String(Math.round(t*100*100)/100)+"%"}static toGridStr(t){return String(Math.round(t/100)/10)}static getPosID(t,e){return t+"_"+e}}class Pl extends dt{constructor(e,s,a=!1){super();l(this,"level",0);l(this,"index",0);l(this,"enabled",!0);l(this,"m_skillInfo","");l(this,"m_nextLevelSkillInfo","");l(this,"skillTag1","");l(this,"skillTag2","");l(this,"skillTag3","");l(this,"nextLevelSkillTag1","");l(this,"nextLevelSkillTag2","");l(this,"nextLevelSkillTag3","");l(this,"m_updateFunction",()=>{});if(a){this.m_data=new At({id:e+"_0",kindId:e});return}this.m_data=Ut.getOnlyExample().getData(e),this.level=s,this.enabled=!0}get data(){return this.m_data}get skillInfo(){return this.m_updateFunction!=null&&this.m_updateFunction(),this.m_skillInfo||(this.m_skillInfo=""),this.m_skillInfo}get nextLevelSkillInfo(){return this.m_nextLevelSkillInfo||(this.m_nextLevelSkillInfo=""),this.m_nextLevelSkillInfo}}class X extends Pl{constructor(e,s,a){super(e,s);l(this,"tower");this.tower=a}static create(e,s,a){const n=new X("",s,a);return n.m_data=e,n}shouldTransferBullet(){switch(this.data.kindId){case T.KIND_GUIDED_BULLET:case T.KIND_ATTACK_RATE:case T.KIND_AOE_ATTACK:case T.KIND_THROUGHOUT_ATTACK:case T.KIND_BOUNCE_ATTACK:case T.KIND_FLOAT_DAMAGE:case T.KIND_CRIT:case T.KIND_REDUCED_DEFENSE:case T.KIND_POISON:case T.KIND_SLOW:case T.KIND_BURN_COLD:case T.KIND_BEAT_BACK:case T.KIND_SILENCE:case T.KIND_VERTIGO:case T.KIND_INTIMIDATE:case T.KIND_CUSS:return!0;default:return!1}}getSubClasses(){switch(this.data.kindId){case T.KIND_AURA:return new Ht(this.data.id,this.level,this.tower);case T.KIND_CHANGE_BULLET:return new kl(this.data.id,this.level,this.tower);case T.KIND_CHANGE_DAMAGE:return new Ml(this.data.id,this.level,this.tower);case T.KIND_CHANGE_RATE:return new Ul(this.data.id,this.level,this.tower);case T.KIND_CHANGE_RANGE:return new Fl(this.data.id,this.level,this.tower);case T.KIND_FIELD_ATTACK:return new Jt(this.data.id,this.level,this.tower);case T.KIND_DIVIDED_ATTACK:return new zt(this.data.id,this.level,this.tower);case T.KIND_SCATTER_ATTACK:return new el(this.data.id,this.level,this.tower);case T.KIND_COMBO_ATTACK:return new jt(this.data.id,this.level,this.tower);case T.KIND_GUIDED_BULLET:return new ua(this.data.id,this.level,this.tower);case T.KIND_ATTACK_RATE:return new ia(this.data.id,this.level,this.tower);case T.KIND_AOE_ATTACK:return new Bt(this.data.id,this.level,this.tower);case T.KIND_THROUGHOUT_ATTACK:return new sl(this.data.id,this.level,this.tower);case T.KIND_BOUNCE_ATTACK:return new Wt(this.data.id,this.level,this.tower);case T.KIND_FLOAT_DAMAGE:return new oa(this.data.id,this.level,this.tower);case T.KIND_CRIT:return new Xt(this.data.id,this.level,this.tower);case T.KIND_REDUCED_DEFENSE:return new Qt(this.data.id,this.level,this.tower);case T.KIND_POISON:return new Zt(this.data.id,this.level,this.tower);case T.KIND_SLOW:return new ll(this.data.id,this.level,this.tower);case T.KIND_BURN_COLD:return new ra(this.data.id,this.level,this.tower);case T.KIND_BEAT_BACK:return new Gt(this.data.id,this.level,this.tower);case T.KIND_SILENCE:return new tl(this.data.id,this.level,this.tower);case T.KIND_VERTIGO:return new al(this.data.id,this.level,this.tower);case T.KIND_INTIMIDATE:return new qt(this.data.id,this.level,this.tower);case T.KIND_CUSS:return new Yt(this.data.id,this.level,this.tower);default:return this}}}const we=class we extends X{constructor(t,e,s){super(t,e,s),this.index=1050,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3001,this.radiiInfo,k.toPercentage(this.nextEffectRate))}}get radii(){return this.data.getLevelParam(this.level,0)+we.DEFAULT_RADII}get nextEffectRate(){return Math.min(this.data.getLevelParam(this.level,1)+we.DEFAULT_NEXT_EFFECT_RATE,we.MAX_NEXT_EFFECT_RATE)}get radiiInfo(){return this.radii.toString()}};l(we,"DEFAULT_RADII",0),l(we,"DEFAULT_NEXT_EFFECT_RATE",0),l(we,"MAX_NEXT_EFFECT_RATE",1);let Bt=we;class ia extends X{constructor(t,e,s){super(t,e,s),this.index=1040,this.m_updateFunction=()=>{let a=this.floorRate,n=this.airRate;a<=0&&n>0?this.m_skillInfo=d.getLanguageStr(3029):n<=0&&a>0?this.m_skillInfo=d.getLanguageStr(3028):a!=1?this.m_skillInfo=d.getLanguageStr(3030,k.toPercentage(a)):n!=1&&(this.m_skillInfo=d.getLanguageStr(3031,k.toPercentage(n)))}}get floorRate(){return this.data.getLevelParam(this.level,0)}get airRate(){return this.data.getLevelParam(this.level,1)}}const It=class It extends X{constructor(t,e,s){super(t,e,s),this.index=1500,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3002)}}get spId(){return this.data.getLevelParam(this.level,0)}get spLevel(){return this.data.getLevelParam(this.level,1)}get radii(){return this.data.getLevelParam(this.level,2)*this.level+It.DEFAULT_RADII}};l(It,"DEFAULT_RADII",1e3);let Ht=It;const Ve=class Ve extends X{constructor(t,e,s){super(t,e,s),this.index=1060,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3003,k.toPercentage(this.chances),this.distanceInfo)}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+Ve.DEFAULT_CHANCES,1),0)}get beatBackDistance(){return this.data.getLevelParam(this.level,1)+Ve.DEFAULT_BEAT_BACK_DISTANCE}get distanceInfo(){return this.beatBackDistance.toString()}};l(Ve,"SHIFT_TIME",.2),l(Ve,"DEFAULT_CHANCES",0),l(Ve,"DEFAULT_BEAT_BACK_DISTANCE",0);let Gt=Ve;const Le=class Le extends X{constructor(t,e,s){super(t,e,s),this.index=1070,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3004,this.bounceNum,k.toPercentage(1-this.nextEffectRate),this.attackInfo)}}get bounceNum(){return Math.floor(this.data.getLevelParam(this.level,0)*this.level+Le.DEFAULT_BOUNCE_NUM)}get nextEffectRate(){return Math.min(this.data.getLevelParam(this.level,1)*this.level+Le.DEFAULT_NEXT_EFFECT_RATE,Le.MAX_NEXT_EFFECT_RATE)}get attackInfo(){var e;let t=null;return((e=this.tower)==null?void 0:e.newBullet().bulletData.hitEffectId)==H.KIND_LIGHTNING?t=d.getLanguageStr(3516):t=d.getLanguageStr(3515),t}};l(Le,"DEFAULT_BOUNCE_NUM",.5),l(Le,"DEFAULT_NEXT_EFFECT_RATE",.35),l(Le,"MAX_NEXT_EFFECT_RATE",1),l(Le,"MAX_DISTANCE",3e3);let Wt=Le;class ra extends X{constructor(t,e,s){super(t,e,s),this.index=1080,this.m_updateFunction=()=>{this.burnColdValue>0?this.m_skillInfo=d.getLanguageStr(3005,this.burn):this.m_skillInfo=d.getLanguageStr(3006,k.toPercentage(this.cold))}}get burnColdValue(){let t=1;this.tower&&(t=this.tower.buffEffect());let e=Math.pow(this.data.getLevelParam(this.level,0)*this.level*t,2);return this.data.getLevelParam(this.level,0)<0&&(e=-e),Math.floor(e)}get burn(){return Math.floor(Math.sqrt(this.burnColdValue))}get cold(){let t=1;this.tower&&(t=this.tower.buffEffect());let e=Math.pow(this.data.getLevelParam(this.level,0)*this.level*t,2);return Math.pow(e,.25)*.03}}class kl extends X{constructor(t,e,s){super(t,e,s)}get bulletId(){return this.data.getLevelParam(this.level,0)}}class Ml extends X{constructor(t,e,s){super(t,e,s),this.index=1e3,this.m_updateFunction=()=>{this.damageRate>1?this.m_skillInfo=d.getLanguageStr(3007,k.toPercentage(this.damageRate-1)):this.damageRate<1&&(this.m_skillInfo=d.getLanguageStr(3008,k.toPercentage(1-this.damageRate)))}}get damageAdd(){return this.data.getLevelParam(this.level,0)*this.level}get damageRate(){return this.data.getLevelParam(this.level,1)*this.level+1}get damageA(){return this.data.getLevelParam(this.level,2)}get damageB(){return this.data.getLevelParam(this.level,3)}get damageC(){return this.data.getLevelParam(this.level,4)}isChangeBase(){return!(this.damageA==0&&this.damageB==0&&this.damageC==0)}}class Fl extends X{constructor(t,e,s){super(t,e,s),this.index=1010,this.m_updateFunction=()=>{this.rangeRate>1?this.m_skillInfo=d.getLanguageStr(3009,k.toPercentage(this.rangeRate-1)):this.m_skillInfo=d.getLanguageStr(3010,k.toPercentage(1-this.rangeRate)),this.rangeMin>0&&(this.m_skillInfo+=d.getLanguageStr(3027))}}get rangeAdd(){return this.data.getLevelParam(this.level,0)*this.level}get rangeRate(){return this.data.getLevelParam(this.level,1)*this.level+1}get range(){return this.data.getLevelParam(this.level,2)}get rangeMin(){return this.data.getLevelParam(this.level,3)}isChangeBase(){return this.range!=0}}class Ul extends X{constructor(t,e,s){super(t,e,s),this.index=1020,this.m_updateFunction=()=>{this.rateRate>1?this.m_skillInfo=d.getLanguageStr(3011,k.toPercentage(this.rateRate-1)):this.m_skillInfo=d.getLanguageStr(3012,k.toPercentage(1-this.rateRate))}}get rateRate(){return this.data.getLevelParam(this.level,0)+this.data.getLevelParam(this.level,1)*this.level+1}get rate(){return this.data.getLevelParam(this.level,2)}isChangeBase(){return this.rate!=0}}const $e=class $e extends X{constructor(t,e,s){super(t,e,s),this.index=1090,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3013,k.toPercentage(this.chances),this.extraBullet+1)}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)+$e.DEFAULT_CHANCES,1),0)}get extraBullet(){return Math.floor(this.data.getLevelParam(this.level,1)*this.level+$e.DEFAULT_EXTRA_BULLET)}};l($e,"DEFAULT_CHANCES",0),l($e,"DEFAULT_EXTRA_BULLET",.5),l($e,"DEFAULT_RATE",.08);let jt=$e;const Re=class Re extends X{constructor(t,e,s){super(t,e,s),this.index=1100,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3014,k.toPercentage(this.chances),this.damageEffectRate.toFixed(1))}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+Re.DEFAULT_CHANCES,1),0)}get damageEffectRate(){return this.data.getLevelParam(this.level,1)*this.level+Re.DEFAULT_DAMAGE_EFFECT_RATE+1}get buffEffectRate(){return this.data.getLevelParam(this.level,2)*this.level+Re.DEFAULT_BUFF_EFFECT_RATE+1}};l(Re,"DEFAULT_CHANCES",.1),l(Re,"DEFAULT_DAMAGE_EFFECT_RATE",.5),l(Re,"DEFAULT_BUFF_EFFECT_RATE",.1);let Xt=Re;const Je=class Je extends X{constructor(t,e,s){super(t,e,s),this.index=1110,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3026,Math.round(this.cussPower),this.duration.toFixed(0))}}get cussPower(){return this.data.getLevelParam(this.level,0)*this.level*this.tower.level+Je.DEFAULT_CUSS_POWER}get duration(){return this.data.getLevelParam(this.level,1)+Je.DEFAULT_DURATION}};l(Je,"DEFAULT_CUSS_POWER",0),l(Je,"DEFAULT_DURATION",0);let Yt=Je;const Tt=class Tt extends X{constructor(t,e,s){super(t,e,s),this.index=1120,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3015,this.extraBullet+1)}}get extraBullet(){return Math.floor(this.data.getLevelParam(this.level,0)*this.level+Tt.DEFAULT_EXTRA_BULLET)}};l(Tt,"DEFAULT_EXTRA_BULLET",.5);let zt=Tt;class oa extends X{constructor(t,e,s){super(t,e,s),this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3017)}}get floatDamageRate(){return this.data.getLevelParam(this.level,0)*this.level}}class ua extends X{constructor(t,e,s){super(t,e,s),this.m_skillInfo=""}get guideRatio(){return this.data.getLevelParam(this.level,0)}get bulletSpeedRate(){return this.data.getLevelParam(this.level,1)+1}get bulletAccSpeed(){return this.data.getLevelParam(this.level,2)}get guideInfo(){let t=null,e=this.guideRatio;return e<.1?t=d.getLanguageStr(3500):e<.2?t=d.getLanguageStr(3501):e<.3?t=d.getLanguageStr(3502):e<.4?t=d.getLanguageStr(3503):t=d.getLanguageStr(3504),t}}const Ze=class Ze extends X{constructor(t,e,s){super(t,e,s),this.index=1140,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3019,k.toPercentage(this.chances),this.duration.toFixed(1))}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+Ze.DEFAULT_CHANCES,1),0)}get duration(){return this.data.getLevelParam(this.level,1)+Ze.DEFAULT_DURATION}};l(Ze,"DEFAULT_CHANCES",.05),l(Ze,"DEFAULT_DURATION",0);let qt=Ze;const Lt=class Lt extends X{constructor(t,e,s){super(t,e,s),this.index=1130,this.m_skillInfo=d.getLanguageStr(3016)}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+Lt.DEFAULT_CHANCES,1),0)}};l(Lt,"DEFAULT_CHANCES",.05);let Jt=Lt;const Qe=class Qe extends X{constructor(e,s,a){super(e,s,a);l(this,"m_poisonRate",-1);this.index=1150,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3e3,Math.round(this.poisonRate*this.tower.damage()),this.duration.toFixed(0))}}get poisonRate(){return this.m_poisonRate<0?this.data.getLevelParam(this.level,0)*this.level+Qe.DEFAULT_POISON_RATE:this.m_poisonRate}set poisonRate(e){this.m_poisonRate<0&&(this.m_poisonRate=e)}get duration(){return this.data.getLevelParam(this.level,1)+Qe.DEFAULT_DURATION}};l(Qe,"DEFAULT_POISON_RATE",0),l(Qe,"DEFAULT_DURATION",0);let Zt=Qe;const et=class et extends X{constructor(t,e,s){super(t,e,s),this.index=1160,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3020,k.toPercentage(this.reducedDefenseRate),this.duration.toFixed(1))}}get reducedDefenseRate(){return this.data.getLevelParam(this.level,0)*this.level+et.DEFAULT_REDUCED_DEFENSE_RATE}get duration(){return this.data.getLevelParam(this.level,1)+et.DEFAULT_DURATION}};l(et,"DEFAULT_REDUCED_DEFENSE_RATE",.1),l(et,"DEFAULT_DURATION",0);let Qt=et;const Dt=class Dt extends X{constructor(t,e,s){super(t,e,s),this.index=1170,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3021,this.extraBullet+1)}}get extraBullet(){return Math.floor(this.data.getLevelParam(this.level,0)*this.level+Dt.DEFAULT_EXTRA_BULLET)}};l(Dt,"DEFAULT_EXTRA_BULLET",.5);let el=Dt;const tt=class tt extends X{constructor(t,e,s){super(t,e,s),this.index=1180,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3022,k.toPercentage(this.chances),this.duration.toFixed(1))}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+tt.DEFAULT_CHANCES,1),0)}get duration(){return this.data.getLevelParam(this.level,1)+tt.DEFAULT_DURATION}};l(tt,"DEFAULT_CHANCES",.05),l(tt,"DEFAULT_DURATION",0);let tl=tt;const lt=class lt extends X{constructor(t,e,s){super(t,e,s),this.index=1190,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3023,k.toPercentage(this.slowRate),this.duration.toFixed(1))}}get slowRate(){return this.data.getLevelParam(this.level,0)*this.level+lt.DEFAULT_SLOW_RATE}get duration(){return this.data.getLevelParam(this.level,1)+lt.DEFAULT_DURATION}};l(lt,"DEFAULT_SLOW_RATE",.1),l(lt,"DEFAULT_DURATION",0);let ll=lt;const Ce=class Ce extends X{constructor(t,e,s){super(t,e,s),this.index=1200,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3024,this.throughoutNum)}}get throughoutNum(){return Math.floor(this.data.getLevelParam(this.level,0)*this.level+Ce.DEFAULT_THROUGHOUT_NUM)}get nextEffectRate(){return Math.min(this.data.getLevelParam(this.level,1)+Ce.DEFAULT_NEXT_EFFECT_RATE,Ce.MAX_NEXT_EFFECT_RATE)}};l(Ce,"DEFAULT_THROUGHOUT_NUM",.5),l(Ce,"DEFAULT_NEXT_EFFECT_RATE",0),l(Ce,"MAX_NEXT_EFFECT_RATE",1);let sl=Ce;const st=class st extends X{constructor(t,e,s){super(t,e,s),this.index=1210,this.m_updateFunction=()=>{this.m_skillInfo=d.getLanguageStr(3025,k.toPercentage(this.chances),this.duration.toFixed(1))}}get chances(){return Math.max(Math.min(this.data.getLevelParam(this.level,0)*this.level+st.DEFAULT_CHANCES,1),0)}get duration(){return this.data.getLevelParam(this.level,1)+st.DEFAULT_DURATION}};l(st,"DEFAULT_CHANCES",0),l(st,"DEFAULT_DURATION",0);let al=st;const ne=class ne extends Pl{constructor(e,s,a,n=!1){super(e,s,n);l(this,"monster");l(this,"m_levelMax",0);this.monster=a,this.m_data.typeId=He.TYPE_MONSTER_SKILL}static getKindName(e){switch(e){case f.KIND_FLY:return d.getLanguageStr(2507);case f.KIND_AIRBORNE:return d.getLanguageStr(2510);case f.KIND_RESIST_FIRE:return d.getLanguageStr(2515,d.getLanguageStr(2710));case f.KIND_RESIST_FROST:return d.getLanguageStr(2515,d.getLanguageStr(2711));case f.KIND_RESIST_POISON:return d.getLanguageStr(2515,d.getLanguageStr(2712));case f.KIND_RESIST_SLOW:return d.getLanguageStr(2515,d.getLanguageStr(2719));case f.KIND_RESIST_BEAT:return d.getLanguageStr(2515,d.getLanguageStr(2717));case f.KIND_RESIST_SILENCE:return d.getLanguageStr(2515,d.getLanguageStr(2722));case f.KIND_RESIST_VERTIGO:return d.getLanguageStr(2515,d.getLanguageStr(2715));case f.KIND_RESIST_CRIT:return d.getLanguageStr(2515,d.getLanguageStr(2716));case f.KIND_RESIST_LIGHT:return d.getLanguageStr(2515,d.getLanguageStr(2714));case f.KIND_RESIST_INTIMIDATE:return d.getLanguageStr(2515,d.getLanguageStr(2718));case f.KIND_RESIST_STRSMOOTH:return d.getLanguageStr(2723);case f.KIND_SLOWF:return d.getLanguageStr(2725);case f.KIND_WEAK_FIRE:return d.getLanguageStr(2516,d.getLanguageStr(2710));case f.KIND_WEAK_FROST:return d.getLanguageStr(2516,d.getLanguageStr(2711));case f.KIND_WEAK_POISON:return d.getLanguageStr(2516,d.getLanguageStr(2712));case f.KIND_WEAK_SLOW:return d.getLanguageStr(2516,d.getLanguageStr(2719));case f.KIND_WEAK_BEAT:return d.getLanguageStr(2516,d.getLanguageStr(2717));case f.KIND_WEAK_SILENCE:return d.getLanguageStr(2516,d.getLanguageStr(2722));case f.KIND_WEAK_VERTIGO:return d.getLanguageStr(2516,d.getLanguageStr(2715));case f.KIND_WEAK_CRIT:return d.getLanguageStr(2516,d.getLanguageStr(2716));case f.KIND_WEAK_LIGHT:return d.getLanguageStr(2516,d.getLanguageStr(2714));case f.KIND_WEAK_INTIMIDATE:return d.getLanguageStr(2516,d.getLanguageStr(2718));case f.KIND_ISOLATION:return d.getLanguageStr(2517);case f.KIND_RUN:return d.getLanguageStr(2500);case f.KIND_MIRROR:return d.getLanguageStr(2501);case f.KIND_SUMMON:return d.getLanguageStr(2502);case f.KIND_CLOUD:return d.getLanguageStr(2503);case f.KIND_CURE:return d.getLanguageStr(2504);case f.KIND_BLINK:return d.getLanguageStr(2505);case f.KIND_HIDE:return d.getLanguageStr(2506);case f.KIND_RELIVE:return d.getLanguageStr(2508);case f.KIND_SUICIDE:return d.getLanguageStr(2509);case f.KIND_SHIELD:return d.getLanguageStr(2511);case f.KIND_SNEER:return d.getLanguageStr(2512);case f.KIND_REINCARNATE:return d.getLanguageStr(2514);case f.KIND_TRANSFORM:return d.getLanguageStr(2513);case f.KIND_LINKS:return d.getLanguageStr(2727);default:return""}}get name(){return this.canLevelUp(1)?d.getLanguageStr(2416,this.data.name,this.level):this.data.name}get isDebuff(){return this.grade.indexOf(ne.RES_FG_X)!=-1}get skillSign(){return this.isDebuff?Ft(d.getLanguageStr(2422),0,!0,13):Ft(d.getLanguageStr(2421),16711680,!0,13)}get isDowerSkill(){return!1}get isLearnSkill(){return!1}getConflictStr(){let e=null,s=0,a=0,n=N.$_conflict_skill_kind,o="";for(s=0;s<n.length;s++)if(e=n[s],e.indexOf(this.data.kindId)!=-1)for(a=0;a<e.length;a++)e[a]!=this.data.kindId&&(o+=ne.getKindName(e[a]),o+=d.getLanguageStr(2406));return o.length>0&&(o=o.slice(0,o.length-1)),o}canLevelUp(e=-1){return e<0&&(e=this.level),e<this.levelMax}get levelMax(){if(this.m_levelMax<=0){const e=N.$_skill_lvup_spend,s=this.grade;if(e[s])for(const a in e[s])this.m_levelMax=Math.max(this.m_levelMax,parseInt(a))+1;else this.m_levelMax=1}return this.m_levelMax}levelUpSpend(e=-1){e<0&&(e=this.level);let s=N.$_skill_lvup_spend,a=this.grade;return s[a]&&s[a][String(e)]?s[a][String(e)]:null}get skillScore(){let e=N.$_skill_grade_score,s=this.grade;return e[s]&&e[s][String(this.level)]?e[s][String(this.level)]:1}get grade(){let e=this.data.id,s=e.indexOf("_");return s==-1?ne.RES_FG_X:e.slice(s+1,e.length)}isEventSkill(){switch(this.data.kindId){case f.KIND_RUN:return!0;default:return!1}}getSubClasses(){switch(this.data.kindId){case f.KIND_FLY:return new ha(this.data.id,this.level,this.monster);case f.KIND_AIRBORNE:return new nl(this.data.id,this.level,this.monster);case f.KIND_RESIST_FIRE:case f.KIND_RESIST_FROST:case f.KIND_RESIST_POISON:case f.KIND_RESIST_SLOW:case f.KIND_RESIST_BEAT:case f.KIND_RESIST_SILENCE:case f.KIND_RESIST_VERTIGO:case f.KIND_RESIST_CRIT:case f.KIND_RESIST_LIGHT:case f.KIND_RESIST_INTIMIDATE:case f.KIND_RESIST_STRSMOOTH:case f.KIND_SLOWF:case f.KIND_WEAK_FIRE:case f.KIND_WEAK_FROST:case f.KIND_WEAK_POISON:case f.KIND_WEAK_SLOW:case f.KIND_WEAK_BEAT:case f.KIND_WEAK_SILENCE:case f.KIND_WEAK_VERTIGO:case f.KIND_WEAK_CRIT:case f.KIND_WEAK_LIGHT:case f.KIND_WEAK_INTIMIDATE:return new be(this.data.id,this.level,this.monster);case f.KIND_ISOLATION:return new ma(this.data.id,this.level,this.monster);case f.KIND_RUN:return new pa(this.data.id,this.level,this.monster);case f.KIND_MIRROR:return new Vl(this.data.id,this.level,this.monster);case f.KIND_SUMMON:return new Hl(this.data.id,this.level,this.monster);case f.KIND_CLOUD:return new da(this.data.id,this.level,this.monster);case f.KIND_CURE:return new _a(this.data.id,this.level,this.monster);case f.KIND_BLINK:return new ca(this.data.id,this.level,this.monster);case f.KIND_HIDE:return new il(this.data.id,this.level,this.monster);case f.KIND_RELIVE:return new Bl(this.data.id,this.level,this.monster);case f.KIND_SUICIDE:return new rl(this.data.id,this.level,this.monster);case f.KIND_SHIELD:return new fa(this.data.id,this.level,this.monster);case f.KIND_SNEER:return new Aa(this.data.id,this.level,this.monster);case f.KIND_REINCARNATE:return new $l(this.data.id,this.level,this.monster);case f.KIND_TRANSFORM:return new Ea(this.data.id,this.level,this.monster);case f.KIND_LINKS:return new ga(this.data.id,this.level,this.monster);default:return this}}};l(ne,"RES_SKILL","skill_"),l(ne,"RES_FG_A","A"),l(ne,"RES_FG_B","B"),l(ne,"RES_FG_C","C"),l(ne,"RES_FG_Z","Z"),l(ne,"RES_FG_X","X"),l(ne,"RES_FG_0","0"),l(ne,"RES_BG","bg"),l(ne,"PHOTO_WIDTH",34),l(ne,"PHOTO_HEIGHT",34),l(ne,"PHOTO_ROUND",8);let ue=ne;class Ie extends ue{constructor(t,e,s){super(t,e,s)}warmup(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,0)}cooldown(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,1)}chances(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,2)}eventType(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,3)}duration(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,4)}refreshTag(t=!1){this.skillTag1=this.getTagEventType(),this.nextLevelSkillTag1=this.getTagEventType(this.level+1),this.skillTag2=this.getTagCooldown(),this.nextLevelSkillTag2=this.getTagCooldown(this.level+1),t&&(this.skillTag3=this.getTagDuration(),this.nextLevelSkillTag3=this.getTagDuration(this.level+1))}getTagEventType(t=-1){let e=0;t<0&&(t=this.level);let s="",a=this.eventType(t);if(a.length!=4){for(e=0;e<a.length;e++)a[e]==f.EVENT_RED?s+=d.getLanguageStr(2402)+d.getLanguageStr(2406):a[e]==f.EVENT_YELLOW?s+=d.getLanguageStr(2403)+d.getLanguageStr(2406):a[e]==f.EVENT_GREEN?s+=d.getLanguageStr(2404)+d.getLanguageStr(2406):a[e]==f.EVENT_FULL&&(s+=d.getLanguageStr(2405)+d.getLanguageStr(2406));s=s.slice(0,s.length-1),s=d.getLanguageStr(2400,s)}return s}getTagCooldown(t=-1){return t<0&&(t=this.level),""+d.getLanguageStr(2401,this.cooldown(t))}getTagDuration(t=-1){return t<0&&(t=this.level),""+d.getLanguageStr(2407,this.duration(t))}}class nl extends ue{constructor(t,e,s){super(t,e,s),this.index=95,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2201)}}heightSpeed(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,0)}pathLengthMin(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,1)}pathLengthMax(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,2)}}l(nl,"BALLOON","balloon"),l(nl,"DEFAULT_HEIGHT",2e3);class ca extends Ie{constructor(t,e,s){super(t,e,s),this.index=100,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2303,k.toGridStr(this.range())),this.m_nextLevelSkillInfo=d.getLanguageStr(2303,k.toGridStr(this.range(this.level+1))),this.refreshTag()}}range(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}}class da extends Ie{constructor(t,e,s){super(t,e,s),this.index=110,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2302,this.cloudTime()),this.m_nextLevelSkillInfo=d.getLanguageStr(2302,this.cloudTime(this.level+1)),this.refreshTag(!0)}}range(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}cloudTime(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}}class _a extends Ie{constructor(t,e,s){super(t,e,s),this.index=140,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2300,k.toGridStr(this.cureRange()),k.toPercentage(this.cureRate())),this.m_nextLevelSkillInfo=d.getLanguageStr(2300,k.toGridStr(this.cureRange(this.level+1)),k.toPercentage(this.cureRate(this.level+1))),this.refreshTag()}}cureRange(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}cureRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}}class ha extends ue{constructor(t,e,s){super(t,e,s),this.index=90,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2200),this.m_nextLevelSkillInfo=d.getLanguageStr(2200)}}get flyHeight(){return this.data.getLevelParam(this.level,0)}}class il extends Ie{constructor(t,e,s){super(t,e,s),this.index=150,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2305,this.duration()),this.m_nextLevelSkillInfo=d.getLanguageStr(2305,this.duration(this.level+1)),this.refreshTag()}}}l(il,"HIDE_TIME",1),l(il,"HIDE_ALPHA",.1);class ma extends ue{constructor(t,e,s){super(t,e,s),this.index=500,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2202)}}}class ga extends Ie{constructor(t,e,s){super(t,e,s),this.index=116,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2728,k.toGridStr(this.range()),k.toPercentage(this.shieldRate()),this.duration()),this.m_nextLevelSkillInfo=d.getLanguageStr(2728,k.toGridStr(this.range(this.level+1)),k.toPercentage(this.shieldRate(this.level+1)),this.duration(this.level+1)),this.refreshTag()}}range(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}shieldRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}}class Vl extends Ie{constructor(t,e,s){super(t,e,s),this.index=130,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2306,this.mirrorNum(),k.toPercentage(this.hpRate()),this.duration()),this.m_nextLevelSkillInfo=d.getLanguageStr(2306,this.mirrorNum(this.level+1),k.toPercentage(this.hpRate(this.level+1)),this.duration(this.level+1)),this.refreshTag()}}mirrorNum(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}hpRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}}l(Vl,"DEFAULT_DISTANCE",750);class $l extends ue{constructor(t,e,s){super(t,e,s),this.index=85,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2215,this.monsterName()),this.m_nextLevelSkillInfo=d.getLanguageStr(2215,this.monsterName(this.level+1))}}monsterIdList(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,0)}monsterName(t=-1){let e=0,s=this.monsterIdList(t),a="";for(e=0;e<s.length;e++)a+=Ae.getOnlyExample().getData(s[e]).name,a+=d.getLanguageStr(2406);return a.slice(0,a.length-1),a}}l($l,"REINCARNATE_TIME",5);class Bl extends ue{constructor(t,e,s){super(t,e,s),this.index=170,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2213,this.reliveNum(),k.toPercentage(this.reliveHpRate())),this.m_nextLevelSkillInfo=d.getLanguageStr(2213,this.reliveNum(this.level+1),k.toPercentage(this.reliveHpRate(this.level+1)))}}reliveNum(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,0)}reliveHpRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,1)}}l(Bl,"RELIVE_TIME",8);class be extends ue{constructor(e,s,a){super(e,s,a);l(this,"maxHP",0);this.index=300,this.m_updateFunction=function(){this.m_skillInfo=this.resistInfo(),this.m_nextLevelSkillInfo=this.resistInfo(this.level+1)}}getResist(e=-1){return e<0&&(e=this.level),this.data.getLevelParam(e,0)}getRange(e=-1){return e<0&&(e=this.level),this.data.getLevelParam(e,1)}getMaxHP(e=-1){return e<0&&(e=this.level),this.data.getLevelParam(e,1)}resistInfo(e=-1){let s=this.getResist(e),a="",n=k.toPercentage(Math.abs(s));return s==0||(s>0?a=d.getLanguageStr(2409):a=d.getLanguageStr(2408),this.data.kindId==f.KIND_SLOWF&&(a=k.toGridStr(this.getRange())),a=d.getLanguageStr(this.resistInfoNumber,a,n),this.data.kindId==f.KIND_RESIST_STRSMOOTH&&this.getMaxHP(e)>0&&(a+=d.getLanguageStr(2730,this.getMaxHP(e)))),a}get resistInfoNumber(){switch(this.data.kindId){case f.KIND_RESIST_FIRE:case f.KIND_WEAK_FIRE:return 2203;case f.KIND_RESIST_FROST:case f.KIND_WEAK_FROST:return 2204;case f.KIND_RESIST_POISON:case f.KIND_WEAK_POISON:return 2205;case f.KIND_RESIST_SLOW:case f.KIND_WEAK_SLOW:return 2206;case f.KIND_RESIST_BEAT:case f.KIND_WEAK_BEAT:return 2207;case f.KIND_RESIST_SILENCE:case f.KIND_WEAK_SILENCE:return 2208;case f.KIND_RESIST_VERTIGO:case f.KIND_WEAK_VERTIGO:return 2209;case f.KIND_RESIST_CRIT:case f.KIND_WEAK_CRIT:return 2210;case f.KIND_RESIST_LIGHT:case f.KIND_WEAK_LIGHT:return 2211;case f.KIND_RESIST_INTIMIDATE:case f.KIND_WEAK_INTIMIDATE:return 2212;case f.KIND_RESIST_STRSMOOTH:return 2724;case f.KIND_SLOWF:return 2726;default:return 0}}}l(be,"IMMUNITY",2701),l(be,"RESIST_SUPER",2702),l(be,"RESIST_HIGH",2703),l(be,"RESIST",2704),l(be,"FEAR",2705),l(be,"FEAR_HIGH",2706),l(be,"FEAR_SUPER",2707);class pa extends Ie{constructor(t,e,s){super(t,e,s),this.index=160,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2304,k.toPercentage(this.speedRate()-1),this.duration()),this.m_nextLevelSkillInfo=d.getLanguageStr(2304,k.toPercentage(this.speedRate(this.level+1)-1),this.duration(this.level+1)),this.refreshTag()}}speedRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)+1}}class fa extends Ie{constructor(t,e,s){super(t,e,s),this.index=105,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2308,k.toPercentage(this.shieldRate()),this.shieldTime()),this.m_nextLevelSkillInfo=d.getLanguageStr(2308,k.toPercentage(this.shieldRate(this.level+1)),this.shieldTime(this.level+1)),this.refreshTag(!0)}}range(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}shieldTime(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}shieldRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,7)}}class Aa extends Ie{constructor(t,e,s){super(t,e,s),this.index=106,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2309,k.toGridStr(this.range()),k.toPercentage(this.shieldRate()),this.duration()),this.m_nextLevelSkillInfo=d.getLanguageStr(2309,k.toGridStr(this.range(this.level+1)),k.toPercentage(this.shieldRate(this.level+1)),this.duration(this.level+1)),this.refreshTag()}}range(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}shieldRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}}class rl extends ue{constructor(t,e,s){super(t,e,s),this.index=185,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2214,k.toGridStr(this.cloudRange()),this.cloudTime()),this.m_nextLevelSkillInfo=d.getLanguageStr(2214,k.toGridStr(this.cloudRange(this.level+1)),this.cloudTime(this.level+1))}}cloudRange(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,0)}cloudTime(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,1)}}l(rl,"isEveryTime",!0),l(rl,"SUICIDE_TIME",.5);class Hl extends Ie{constructor(t,e,s){super(t,e,s),this.index=120,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2301,this.summonNum(),k.toPercentage(this.hpRate()),this.summonName()),this.m_nextLevelSkillInfo=d.getLanguageStr(2301,this.summonNum(this.level+1),k.toPercentage(this.hpRate(this.level+1)),this.summonName(this.level+1)),this.refreshTag(!0)}}summonId(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}summonName(t=-1){return t<0&&(t=this.level),Ae.getOnlyExample().getData(this.summonId(t)).name}summonNum(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,6)}hpRate(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,7)}}l(Hl,"DEFAULT_DISTANCE",750);class Ea extends Ie{constructor(t,e,s){super(t,e,s),this.index=95,this.m_updateFunction=function(){this.m_skillInfo=d.getLanguageStr(2307,this.transformName()),this.m_nextLevelSkillInfo=d.getLanguageStr(2307,this.transformName(this.level+1)),this.refreshTag(!0)}}transformId(t=-1){return t<0&&(t=this.level),this.data.getLevelParam(t,5)}transformName(t=-1){return t<0&&(t=this.level),Ae.getOnlyExample().getData(this.transformId(t)).name}}class Gl extends dt{constructor(e,s=1){super();l(this,"level");this.m_data=$t.getOnlyExample().getData(e),this.level=s}get skillsPackageData(){return this.m_data}}class Wl{}l(Wl,"COLOR_LIST",[6316128,13631488,13668352,43520,28927,8913056,0]);const ae=class ae extends Se{constructor(e){super(e);l(this,"m_price");l(this,"priceCoin",0);l(this,"priceGold",0);l(this,"priceScore",0);l(this,"unlockMapId","");l(this,"index",0);this.m_price=e[ae.DATA_PRICE],this.initPrice(),this.unlockMapId=e[ae.DATA_UNLOCK_MAP_ID],this.index=e[ae.DATA_INDEX]}get price(){return this instanceof ot&&ee.currentMap&&ee.currentMap.isDefendMap&&this.campPrice instanceof Array?this.campPrice:this.m_price}initPrice(){let e=this.price;if(e)if(e instanceof Array){const s=e;s[0]==ae.DATA_COIN?this.priceCoin=s[1]:s[0]==ae.DATA_GOLD?this.priceGold=s[1]:s[0]==ae.DATA_SCORE&&(this.priceScore=s[1])}else this.priceCoin=e[ae.DATA_COIN],this.priceGold=e[ae.DATA_GOLD],this.priceScore=e[ae.DATA_SCORE]}get isRare(){if(this.priceCoin>0){if(this.priceCoin>=N.$_rare_item_coin||this.index<0)return!0}else if(this.priceScore>0&&(this.priceScore>=N.$_rare_item_invite_score||this.index<0))return!0;return!1}};l(ae,"DATA_PRICE","price"),l(ae,"DATA_UNLOCK_MAP_ID","unlock_mid"),l(ae,"DATA_COIN","coin"),l(ae,"DATA_GOLD","gold"),l(ae,"DATA_SCORE","invite_score"),l(ae,"DATA_INDEX","index");let ft=ae;const ie=class ie extends ft{constructor(e){super(e);l(this,"gemLevel");l(this,"towerSkillPackage");l(this,"nextLevelId");l(this,"colorIndex");this.typeId=Se.TYPE_GEM_ITEM,this.gemLevel=e[ie.DATA_GEM_LEVEL],this.towerSkillPackage=e[ie.DATA_TOWER_SKILL_PACKAGE],this.nextLevelId=e[ie.DATA_NEXT_LEVEL_ID],this.colorIndex=e[ie.DATA_COLOR_INDEX],this.res=this.resString}getSkillPackage(e){if(this.towerSkillPackage==null)return null;let s=/\D/gi;e=e.match(s).join("");let a=this.towerSkillPackage[e];return a==null?null:new Gl(a[ie.SKILL_PACKAGE_ID],a[ie.SKILL_PACKAGE_LEVEL])}get color(){return Wl.COLOR_LIST[this.colorIndex]}get resString(){return"hong"+this.gemLevel}};l(ie,"TYPE_PURE","typePure"),l(ie,"TYPE_MIX","typeMix"),l(ie,"DATA_GEM_LEVEL","gamLevel"),l(ie,"DATA_TOWER_SKILL_PACKAGE","sp"),l(ie,"DATA_NEXT_LEVEL_ID","nextId"),l(ie,"DATA_COLOR_INDEX","color"),l(ie,"SKILL_PACKAGE_ID","id"),l(ie,"SKILL_PACKAGE_LEVEL","lv");let ol=ie;const Ke=class Ke extends ze{constructor(){super(),Ke.onlyExample=this,this.loadData(N.$_global_properties[Se.TYPE_GEM_ITEM])}static getOnlyExample(){return Ke.onlyExample==null&&(Ke.onlyExample=new Ke),Ke.onlyExample}loadData(t){let e;for(e in t)this.m_manager[e]=new ol(t[e])}initData(){}getData(t){return this.getDataById(t)}};l(Ke,"onlyExample");let ul=Ke;const Q=class Q extends ft{constructor(e){super(e);l(this,"skillPackageId");l(this,"skillPackageLevel");l(this,"skills");l(this,"xGrid");l(this,"yGrid");if(this.skillPackageId=e[Q.DATA_SKILL_PACKAGE_ID],this.skillPackageLevel=e[Q.DATA_SKILL_PACKAGE_LEVEL],e[Q.DATA_SKILLS]instanceof Array)this.skills=e[Q.DATA_SKILLS];else if(e[Q.DATA_SKILLS]instanceof Object){this.skills=[];for(const s in e[Q.DATA_SKILLS])this.skills.push({skid:s,lev:e[Q.DATA_SKILLS][s]})}e[Q.DATA_X_GRID]?this.xGrid=e[Q.DATA_X_GRID]:this.xGrid=1,e[Q.DATA_Y_GRID]?this.yGrid=e[Q.DATA_Y_GRID]:this.yGrid=1}};l(Q,"DATA_A","a"),l(Q,"DATA_B","b"),l(Q,"DATA_C","c"),l(Q,"DATA_D","d"),l(Q,"DATA_SKILL_PACKAGE_ID","skill"),l(Q,"DATA_SKILL_PACKAGE_LEVEL","skillLv"),l(Q,"DATA_SKILLS","skills"),l(Q,"DATA_X_GRID","x_grid"),l(Q,"DATA_Y_GRID","y_grid");let te=Q;const q=class q extends te{constructor(e){super(e);l(this,"m_buildValueA",0);l(this,"m_buildValueB",0);l(this,"m_buildValueC",0);l(this,"m_campPrice",["",0]);l(this,"m_campBuildValueA",0);l(this,"m_campBuildValueB",0);l(this,"m_campBuildValueC",0);l(this,"range");l(this,"rate");l(this,"limitNum");e[q.DATA_BUILD_VALUE]?(this.m_buildValueA=e[q.DATA_BUILD_VALUE][te.DATA_A],this.m_buildValueB=e[q.DATA_BUILD_VALUE][te.DATA_B],this.m_buildValueC=e[q.DATA_BUILD_VALUE][te.DATA_C]):e[q.DATA_EXP_VALUE]&&(this.m_buildValueA=e[q.DATA_EXP_VALUE][te.DATA_A],this.m_buildValueB=e[q.DATA_EXP_VALUE][te.DATA_B],this.m_buildValueC=e[q.DATA_EXP_VALUE][te.DATA_C]),e[q.DATA_CAMP_PRICE]&&(this.m_campPrice=e[q.DATA_CAMP_PRICE]),e[q.DATA_CAMP_BUILD_VALUE]&&(this.m_campBuildValueA=e[q.DATA_CAMP_BUILD_VALUE][te.DATA_A],this.m_campBuildValueB=e[q.DATA_CAMP_BUILD_VALUE][te.DATA_B],this.m_campBuildValueC=e[q.DATA_CAMP_BUILD_VALUE][te.DATA_C]),this.range=e[q.DATA_RANGE],this.rate=Math.round(e[q.DATA_RATE]*10),this.limitNum=e[q.DATA_LIMIT_NUM]}get buildValueA(){return ee.currentMap&&ee.currentMap.isDefendMap?this.m_campBuildValueA:this.m_buildValueA}get buildValueB(){return ee.currentMap&&ee.currentMap.isDefendMap?this.m_campBuildValueB:this.m_buildValueB}get buildValueC(){return ee.currentMap&&ee.currentMap.isDefendMap?this.m_campBuildValueC:this.m_buildValueC}get campPrice(){return this.m_campPrice}get buildCostPrice(){return this.price[0]}get buildCost(){return this.price[1]}get buildValueAConst(){return this.m_buildValueA}get buildValueBConst(){return this.m_buildValueB}get buildValueCConst(){return this.m_buildValueC}get buildCostPriceConst(){return this.m_price[0]}get buildCostConst(){return this.m_price[1]}};l(q,"DATA_BUILD_VALUE","build_val"),l(q,"DATA_EXP_VALUE","exp_val"),l(q,"DATA_CAMP_PRICE","camp_price"),l(q,"DATA_CAMP_BUILD_VALUE","camp_build_val"),l(q,"DATA_RANGE","range"),l(q,"DATA_RATE","rate"),l(q,"DATA_LIMIT_NUM","limit_num");let ot=q;const U=class U extends ot{constructor(e){super(e);l(this,"valueList");l(this,"effectType");l(this,"effectKind");l(this,"effectRange");l(this,"useNum");l(this,"colddown");l(this,"delay");l(this,"attackEffectId");this.typeId=Se.TYPE_TRAP_ITEM,this.valueList=e[U.DATA_VALUE_LIST],this.effectType=e[U.DATA_EFFECT_TYPE],this.effectKind=e[U.DATA_EFFECT_KIND],e[U.DATA_USE_NUM]?this.useNum=e[U.DATA_USE_NUM]:this.useNum=1,e[U.DATA_COLDDOWN]?this.colddown=e[U.DATA_COLDDOWN]:this.colddown=.1,e[U.DATA_DELAY]?this.delay=e[U.DATA_DELAY]:this.delay=0,e[U.DATA_EFFECT_RANGE]?this.effectRange=e[U.DATA_EFFECT_RANGE]:this.effectRange=this.range,this.attackEffectId=e[U.DATA_EFFECT]}};l(U,"KIND_BLAST","1"),l(U,"KIND_DAMAGE","2"),l(U,"KIND_VERTIGO","3"),l(U,"KIND_SLOW","4"),l(U,"KIND_BEAT_BACK","5"),l(U,"KIND_COLD_BULLET","50"),l(U,"KIND_BULLET","100"),l(U,"KIND_BULLET_RANDOM","101"),l(U,"EFFECT_TYPE_FLOOR","1"),l(U,"EFFECT_TYPE_AIR","2"),l(U,"EFFECT_TYPE_ALL","3"),l(U,"EFFECT_TYPE_LIGHTNING","4"),l(U,"EFFECT_KIND_SINGLE","1"),l(U,"EFFECT_KIND_MULTI","2"),l(U,"DATA_VALUE_LIST","value"),l(U,"DATA_EFFECT_TYPE","effectType"),l(U,"DATA_EFFECT_KIND","effectKind"),l(U,"DATA_EFFECT_RANGE","effectRange"),l(U,"DATA_USE_NUM","use_times"),l(U,"DATA_COLDDOWN","colddown"),l(U,"DATA_DELAY","delay"),l(U,"DATA_EFFECT","effect");let cl=U;class vl extends ot{constructor(e){super(e);l(this,"m_buildCostA");l(this,"m_buildCostB");l(this,"m_buildCostC");l(this,"m_campBuildCostA");l(this,"m_campBuildCostB");l(this,"m_campBuildCostC");l(this,"damageA");l(this,"damageB");l(this,"damageC");l(this,"bulletId","");l(this,"buffEffect");l(this,"levelMax");this.m_buildCostA=e.build_cost.a,this.m_buildCostB=e.build_cost.b,this.m_buildCostC=e.build_cost.c,this.m_campBuildCostA=e.camp_build_cost.a,this.m_campBuildCostB=e.camp_build_cost.b,this.m_campBuildCostC=e.camp_build_cost.c,this.damageA=e.damage.a,this.damageB=e.damage.b,this.damageC=e.damage.c,this.buffEffect=e.buffEffect,this.levelMax=e.lev_max,this.bulletId=e.bId}get buildCostA(){var e;return(e=ee.currentMap)!=null&&e.isDefendMap?this.m_campBuildCostA:this.m_buildCostA}get buildCostB(){var e;return(e=ee.currentMap)!=null&&e.isDefendMap?this.m_campBuildCostB:this.m_buildCostB}get buildCostC(){var e;return(e=ee.currentMap)!=null&&e.isDefendMap?this.m_campBuildCostC:this.m_buildCostC}get buildCostAConst(){return this.m_buildCostA}get buildCostBConst(){return this.m_buildCostB}get buildCostCConst(){return this.m_buildCostC}get buildCostPriceConst(){return this.m_price[0]}get buildCostConst(){return this.m_price[1]}get isMagicTower(){return this.id=="xiangqianta"}}const Oe=class Oe extends ze{constructor(){super(),Oe.onlyExample=this,this.loadData(N.$_towerAtt_Obj)}static getOnlyExample(){return Oe.onlyExample==null&&(Oe.onlyExample=new Oe),Oe.onlyExample}loadData(t){for(const e in t){const s=t[e];s[ce.DATA_ID]=e,this.m_manager[e]=new vl(t[e])}}getData(t){return this.getDataById(t)}};l(Oe,"onlyExample");let dl=Oe;const z=class z extends te{constructor(e){super(e);l(this,"shapeMode");l(this,"damageMode");l(this,"radii");l(this,"shadow");l(this,"fallAccSpeed");l(this,"floorPathId");l(this,"hitEffectId");this.shapeMode=e[z.DATA_SHAPE_MODE],this.damageMode=e[z.DATA_DAMAGE_MODE],this.radii=e[z.DATA_RADII],e[z.DATA_SHADOW]?this.shadow=e[z.DATA_SHADOW]:this.shadow=1,this.fallAccSpeed=e[z.DATA_FALL_ACC_SPEED],this.floorPathId=e[z.DATA_FLOOR_PATH_ID],this.hitEffectId=e[z.DATA_HIT_EFFECT_ID]}};l(z,"SHAPE_COMMON",0),l(z,"SHAPE_DIRECTION",1),l(z,"SHAPE_ROLL",2),l(z,"DAMAGE_NULL",0),l(z,"DAMAGE_COMMON",1),l(z,"DAMAGE_PERFORATIVE",2),l(z,"DAMAGE_MAGICAL",3),l(z,"DAMAGE_SIEGE",4),l(z,"DAMAGE_MIXED",5),l(z,"FALL_ACC_SPEED_THRESHOLD",-7),l(z,"DATA_SHAPE_MODE","shapeMode"),l(z,"DATA_DAMAGE_MODE","damageMode"),l(z,"DATA_RADII","radii"),l(z,"DATA_SHADOW","shadow"),l(z,"DATA_FALL_ACC_SPEED","fallAcc"),l(z,"DATA_FLOOR_PATH_ID","path"),l(z,"DATA_HIT_EFFECT_ID","effect");let _l=z;const ye=class ye extends ze{constructor(){super(),ye.onlyExample=this,this.loadData(N.$_bulletAtt_Obj)}static getOnlyExample(){return ye.onlyExample==null&&(ye.onlyExample=new ye),ye.onlyExample}loadData(t){for(const e in t){const s=t[e];s[ce.DATA_ID]=e,this.m_manager[e]=new _l(t[e])}}getData(t){return this.getDataById(t)}};l(ye,"onlyExample");let hl=ye;const O=class O extends te{constructor(e){super(e);l(this,"hpMaxA");l(this,"hpMaxB");l(this,"hpMaxC");l(this,"expMaxA",0);l(this,"expMaxB",0);l(this,"expMaxC",0);l(this,"expMaxD",0);l(this,"speedBase");l(this,"charm");l(this,"height");l(this,"width");l(this,"speakList",[]);l(this,"population");e[O.DATA_HP_MAX]?(this.hpMaxA=e[O.DATA_HP_MAX][te.DATA_A],this.hpMaxB=e[O.DATA_HP_MAX][te.DATA_B],this.hpMaxC=e[O.DATA_HP_MAX][te.DATA_C]):(this.hpMaxA=e[O.DATA_HP_MAX_A],this.hpMaxB=e[O.DATA_HP_MAX_B],this.hpMaxC=e[O.DATA_HP_MAX_C]),e[O.DATA_EXP_MAX]&&(this.expMaxA=e[O.DATA_EXP_MAX][te.DATA_A],this.expMaxB=e[O.DATA_EXP_MAX][te.DATA_B],this.expMaxC=e[O.DATA_EXP_MAX][te.DATA_C],this.expMaxD=e[O.DATA_EXP_MAX][te.DATA_D]),this.speedBase=e[O.DATA_SPEED_BASE],this.charm=e[O.DATA_CHARM],this.height=e[O.DATA_HEIGHT],this.width=e[O.DATA_WIDTH],e[O.DATA_SPEAK_LIST]instanceof Array&&(this.speakList=e[O.DATA_SPEAK_LIST]),this.population=e[O.DATA_POPULATION]}getSpeak(e=0){if(this.speakList instanceof Array&&this.speakList.length>e){if(this.speakList[e]instanceof String)return this.speakList[e];if(this.speakList[e]instanceof Array){const s=this.speakList[e];return s[Math.floor(Math.random()*s.length)]}}return""}getSpeakEnter(){return this.getSpeak(O.SPEAK_ENTER)}getSpeakIdle(){return this.getSpeak(O.SPEAK_IDLE)}getSpeakInjury(){return this.getSpeak(O.SPEAK_INJURY)}getSpeakDie(){return this.getSpeak(O.SPEAK_DIE)}getSpeakInvade(){return this.getSpeak(O.SPEAK_INVADE)}getSpeakCast(){return this.getSpeak(O.SPEAK_CAST)}get isBoss(){return this.population>=100}get isRandomBoss(){return this.population==99}getHpMax(e,s=1){return Math.floor((this.hpMaxA+e*(this.hpMaxB+e*this.hpMaxC))*s)}};l(O,"SPEAK_ENTER",0),l(O,"SPEAK_IDLE",1),l(O,"SPEAK_INJURY",2),l(O,"SPEAK_DIE",3),l(O,"SPEAK_INVADE",4),l(O,"SPEAK_CAST",5),l(O,"DEFENSE_NULL",0),l(O,"DEFENSE_LIGHT",1),l(O,"DEFENSE_COMMON",2),l(O,"DEFENSE_HEAVY",3),l(O,"DEFENSE_BUILDING",4),l(O,"DEFENSE_BOSS",5),l(O,"DEFENSE_HOLY",6),l(O,"DEFENSE_INVINCIBLE",7),l(O,"DATA_HP_MAX","hp_factor"),l(O,"DATA_EXP_MAX","explev"),l(O,"DATA_HP_MAX_A","ha"),l(O,"DATA_HP_MAX_B","hb"),l(O,"DATA_HP_MAX_C","hc"),l(O,"DATA_SPEED_BASE","speed"),l(O,"DATA_CHARM","charm"),l(O,"DATA_HEIGHT","height"),l(O,"DATA_WIDTH","width"),l(O,"DATA_SPEAK_LIST","speak"),l(O,"DATA_POPULATION","pop");let At=O;const Pe=class Pe extends ze{constructor(){super(),Pe.onlyExample=this,this.loadData(N.$_wolfAtt_Obj)}static getOnlyExample(){return Pe.onlyExample==null&&(Pe.onlyExample=new Pe),Pe.onlyExample}loadData(t){for(const e in t){const s=t[e];s[ce.DATA_ID]=e,this.m_manager[e]=new At(s)}}getBossList(t){const e=[];if(!(t instanceof Array))return e;for(let s=0;s<t.length;s++){const a=this.getData(t[s]);a&&a.isBoss&&e.push(t[s])}return e}getRandomBossList(t){const e=[];if(!(t instanceof Array))return e;for(let s=0;s<t.length;s++){const a=this.getData(t[s]);a&&a.isRandomBoss&&e.push(t[s])}return e}getData(t){return this.getDataById(t)}};l(Pe,"onlyExample");let Ae=Pe;function Ia(_){return Bs(_)}function nt(_,t,e){return Ts.hsl(Ia(_),t,e).string()}const jl=J({__name:"WolfHpChart",props:{hpData:{},width:{default:600},height:{default:200}},setup(_){bt([Dl,Nt,xt,wt,Rt]);const t=_,e=j(()=>({color:["#00A2E8"],title:{text:"当前狼血量",left:"center",textStyle:{fontStyle:"normal",fontFamily:"sans-serif",fontSize:16}},tooltip:{},xAxis:{type:"value",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}}},yAxis:{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{fontSize:14},data:t.hpData.map(s=>s.name)},grid:{left:100,top:30,bottom:20},series:{type:"bar",barWidth:"60%",label:{show:!0,position:"right"},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},data:t.hpData.map(s=>s.value),itemStyle:{color:function(s){return nt(s.name,80,45)}}}}));return(s,a)=>(g(),M(c(St),{class:"chart",option:c(e),style:Rl({width:`${s.width}px`,height:`${s.height}px`})},null,8,["option","style"]))}});function Xl(_,t){const e=N.$_wolfAtt_Obj[_].pop;return e<99?e:t??e}function Ta(_,t=1){return B.sumBy(_,e=>Xl(e,t))}function Nl(_,t){return Math.round((2+1.07*t)*Math.pow(_/.39,2/3))}function La(_,t){const e=N.dream_data.dm_opt_cfg.tower_sum_exp;return Math.round(t*Math.pow(_,e.power)*e.popu+e.p)}function Da(_,t){const e=N.$_map_Obj[_],s=e.wolf_proportion;let a=e.pop_max;const n=s.map(x=>x[0]),o=s.map(x=>Xl(x[1]));let r=s.map(x=>x[1]),m=o.length;if(m==0)return[[],[]];let h=[],p=new Array(m).fill(0);if(t&&(h=t.flatMap((x,v)=>new Array(x).fill(r[v])),p=t,t.length=o.length,a-=B.chain(o).zip(t).sumBy(x=>x[0]*x[1]).value(),a<0))return null;for(;a>0;){for(;m>0&&a<o[m-1];)m--;if(m==0)break;let x;do{const v=Math.random()*n[m-1];x=B.findIndex(n,L=>v<L)}while(a<o[x]);a-=o[x],h.push(r[x]),p[x]++}return[t?B.shuffle(h):h,B.zip(r,p)]}const va={class:"space-x-4"},Sa=J({__name:"dmap-detail",setup(_){const t=B.chain(N.dream_maps).toArray().sortBy("index").value(),e=he({mid:"m2A",score:1}),s=j(()=>N.dream_maps[e.mid]),a=w=>w%10===0?(w-10)%100+10:w%10,n=w=>{const R=a(w).toString(),S=N.dream_waves[e.mid];return w%10==0?S.boss[R]:S.wolf[R]},o=j(()=>n(e.score).map(w=>Ae.getOnlyExample().getData(w))),r=(w,R)=>{const S=a(R).toString();return N.dream_waves[e.mid].popu[S]},m=j(()=>r(e.mid,e.score)),h=w=>La(w,r(e.mid,w==0?1:w==9?10:a(w))),p=j(()=>h(e.score)),x=j(()=>Math.sqrt(s.value.hard_ness*e.score+s.value.yield_val)),v=j(()=>{for(const[w,R]of Object.entries(N.dream_data.dm_wolf_hard_ness)){const[S,C]=w.split("_");if(e.score>=Number.parseInt(S)&&e.score<=Number.parseInt(C))return R}return N.dream_data.dm_wolf_hard_ness.default}),L=j(()=>o.value.map(w=>({name:w.name,value:w.getHpMax(x.value,v.value)}))),P=j(()=>{let w=0,R=0;for(let S=1;S<=e.score;S++){let C=Math.sqrt(s.value.yield_val+s.value.hard_ness*S);w+=Nl(C,r(e.mid,S)),R+=h(S)}return{gold:w,exp:R}});return(w,R)=>{const S=ke,C=Me,y=it,K=je,Y=Ee,me=vt("vue-latex"),V=Xe;return g(),M(V,{model:c(e),"label-width":"120px"},{default:u(()=>[i(K,{label:"地图"},{default:u(()=>[i(C,{modelValue:c(e).mid,"onUpdate:modelValue":R[0]||(R[0]=se=>c(e).mid=se)},{default:u(()=>[(g(!0),D(F,null,G(c(t),se=>(g(),M(S,{key:se.id,label:`${se.id} ${se.name}`,value:se.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(y,{effect:"light",class:"mx-1"},{default:u(()=>[b(" 难度系数："+I(c(s).hard_ness)+", "+I(c(s).yield_val),1)]),_:1})]),_:1}),i(K,{label:"进度"},{default:u(()=>[i(Y,{modelValue:c(e).score,"onUpdate:modelValue":R[1]||(R[1]=se=>c(e).score=se),min:0},null,8,["modelValue"]),i(y,{effect:"light",class:"mx-1"},{default:u(()=>[b(" HpRate："+I(c(v)),1)]),_:1}),i(y,{effect:"light",class:"mx-1"},{default:u(()=>[b(" Population："+I(c(m)),1)]),_:1})]),_:1}),i(K,null,{default:u(()=>[b(" 银币： "),i(me,{expression:`G(x) = (2+1.07p)(\\frac{L(x)}{0.39})^{2/3} = ${c(Nl)(c(x),c(m))}`},null,8,["expression"])]),_:1}),i(K,null,{default:u(()=>[b(" 经验： "),i(me,{expression:`E(x) = (3.5+0.14p)(\\frac{L(x)}{0.39})^{2/3} = ${c(p)}`},null,8,["expression"])]),_:1}),i(K,null,{default:u(()=>[E("div",va,[E("span",null,"总银币："+I(c(P).gold),1),E("span",null,"总经验："+I(c(P).exp),1)])]),_:1}),i(jl,{"hp-data":c(L),height:300},null,8,["hp-data"])]),_:1},8,["model"])}}});const ba=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),Na={key:0,class:"space-y-1"},xa={class:"space-x-0.5"},wa=J({__name:"dmaps",setup(_){const t=B.sortBy(Object.values(N.dream_maps),"name").map(e=>({...e,...N.dream_waves[e.id],waves:Object.assign({},N.dream_waves[e.id].wolf,N.dream_waves[e.id].boss)}));return(e,s)=>{const a=Ge,n=it,o=We;return g(),D("div",null,[i(o,{data:c(t)},{default:u(()=>[i(a,{prop:"id",label:"id",sortable:"",align:"center"}),i(a,{prop:"name",label:"name",sortable:"",align:"center"}),i(a,{prop:"interval",label:"interval",sortable:"",align:"center"}),i(a,{prop:"interval_rule",label:"interval_rule",sortable:"",align:"center"}),i(a,{prop:"hard_ness",label:"hard_ness",sortable:"",align:"center"}),i(a,{prop:"yield_val",label:"yield_val",sortable:"",align:"center"}),i(a,{label:"waves",type:"expand",width:"80"},{default:u(r=>[r.row.waves?(g(),D("div",Na,[E("table",null,[(g(!0),D(F,null,G(r.row.waves,(m,h)=>(g(),D("tr",{key:h},[E("td",null,[i(n,null,{default:u(()=>[b(I(h),1)]),_:2},1024)]),E("td",xa,[(g(!0),D(F,null,G(m,p=>(g(),M(n,{key:p,style:Rl({color:c(nt)(p,40,40),"background-color":c(nt)(p,80,90),"border-color":c(nt)(p,50,80)})},{default:u(()=>[b(I(c(fe)(p)),1)]),_:2},1032,["style"]))),128))]),E("td",null,[i(n,null,{default:u(()=>[b(I(r.row.popu[h]),1)]),_:2},1024)])]))),128))]),(g(!0),D(F,null,G(r.row.waves,(m,h)=>(g(),D("div",{key:h,class:"space-x-1"}))),128))])):pe("",!0)]),_:1})]),_:1},8,["data"])])}}});const Ra=Ye(wa,[["__scopeId","data-v-607d2849"]]),Ca=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Ka=J({__name:"DreamWaveEditor",props:mt({wolfList:{}},{modelValue:{}}),emits:mt(["change"],["update:modelValue"]),setup(_,{emit:t}){const e=_,s=ml(_,"modelValue"),a=t,n=le(""),o=le(!1),r=le(),m=le(e.wolfList.slice()),h=P=>{s.value.splice(s.value.indexOf(P),1),a("change")},p=()=>{o.value=!0,as(()=>{r.value.focus()})},x=P=>{console.log(P),m.value=P?e.wolfList.filter(v(P)):e.wolfList},v=P=>w=>w.id.toLowerCase().includes(P.toLowerCase())||w.value.includes(P),L=P=>{s.value.push(P),s.value.sort((w,R)=>w.id.localeCompare(R.id)),o.value=!1,n.value="",a("change")};return(P,w)=>{const R=it,S=rs,C=ke,y=ct;return g(),D("div",null,[E("div",null,[(g(!0),D(F,null,G(s.value,K=>(g(),M(R,{key:K.id,type:"info",effect:"plain",class:"m-0.5",closable:"","disable-transitions":!1,onClose:Y=>h(K)},{default:u(()=>[E("ruby",null,[b(I(K.value)+" ",1),E("rt",null,I(K.id),1)])]),_:2},1032,["onClose"]))),128)),c(o)?(g(),M(c(Me),{key:0,ref_key:"InputRef",ref:r,modelValue:c(n),"onUpdate:modelValue":w[0]||(w[0]=K=>ve(n)?n.value=K:null),filterable:"","filter-method":x,class:"inline-block m-0.5",placeholder:"Select",size:"small",onChange:L},{default:u(()=>[(g(!0),D(F,null,G(c(m),K=>(g(),M(C,{key:K.id,value:K},{default:u(()=>[b(I(K.value)+" ",1),i(S,{class:"mx-1",type:"primary"},{default:u(()=>[b("["+I(K.id)+"]",1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),M(y,{key:1,class:"button-new-tag m-0.5",type:"primary",plain:"",size:"small",onClick:p},{default:u(()=>[b(" + ")]),_:1}))])])}}}),Oa={class:"dialog-footer"},ya=J({__name:"dream-design",setup(_){const{toClipboard:t}=fs(),e=le(!1),s=le(""),a=le(!1),n=le({}),o=le(""),r=le(),m=Object.keys(N.$_wolfAtt_Obj).map(R=>({id:R,value:fe(R)})),h=[1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100],p=le(h.map(R=>({key:R,wolf:[],popu:0,popFixed:!1}))),x=(R,S=!1)=>{(!R.popFixed||S)&&(R.popFixed=!1,R.popu=Ta(R.wolf.map(C=>C.id)))},v=R=>{R.popu==0?(R.popFixed=!1,x(R)):R.popFixed=!0},L=()=>{const R=JSON.parse(s.value);p.value=h.map(S=>({key:S,wolf:(R.wolf[S]??R.boss[S]??[]).map(C=>({id:C,value:fe(C)})),popu:R.popu[S],popFixed:!0})),e.value=!1},P=()=>{a.value=!0;const R={wolf:{},boss:{},popu:{}};for(const S of p.value){const C=S.wolf.map(y=>y.id);R[S.key<10?"wolf":"boss"][S.key]=C,S.key<10?R.wolf[S.key]=C:R.boss[S.key]=C,R.popu[S.key]=S.popu}n.value=R,o.value=JSON.stringify(R)},w=()=>{t(o.value,r.value.$el),Kl.success("已复制到剪贴板")};return(R,S)=>{const C=ct,y=Ge,K=Ee,Y=We,me=os;return g(),D("div",null,[i(C,{onClick:S[0]||(S[0]=V=>e.value=!0)},{default:u(()=>[b("导入")]),_:1}),i(C,{onClick:P},{default:u(()=>[b("导出")]),_:1}),i(Y,{data:c(p),style:{"max-width":"1200px"}},{default:u(()=>[i(y,{prop:"key",label:"Key",width:80,align:"center"}),i(y,{label:"Wolf"},{default:u(V=>[i(Ka,{"wolf-list":c(m),modelValue:V.row.wolf,"onUpdate:modelValue":se=>V.row.wolf=se,onChange:se=>x(V.row)},null,8,["wolf-list","modelValue","onUpdate:modelValue","onChange"])]),_:1}),i(y,{label:"Population",width:160,align:"center"},{default:u(V=>[i(K,{modelValue:V.row.popu,"onUpdate:modelValue":se=>V.row.popu=se,size:"small",min:0,onChange:se=>v(V.row),style:{width:"90px"},class:ns({primary:V.row.popFixed})},null,8,["modelValue","onUpdate:modelValue","onChange","class"]),i(C,{icon:V.row.popFixed?c(As):c(Es),circle:"",size:"small",class:"m-0.5",onClick:se=>V.row.popFixed?x(V.row,!0):V.row.popFixed=!0},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),i(me,{modelValue:c(e),"onUpdate:modelValue":S[3]||(S[3]=V=>ve(e)?e.value=V:null),title:"导出数据"},{footer:u(()=>[E("span",Oa,[i(C,{onClick:S[2]||(S[2]=V=>e.value=!1)},{default:u(()=>[b("取消")]),_:1}),i(C,{type:"primary",onClick:L},{default:u(()=>[b(" 确定 ")]),_:1})])]),default:u(()=>[i(c(El),{type:"textarea",rows:10,modelValue:c(s),"onUpdate:modelValue":S[1]||(S[1]=V=>ve(s)?s.value=V:null),spellcheck:!1},null,8,["modelValue"])]),_:1},8,["modelValue"]),i(me,{modelValue:c(a),"onUpdate:modelValue":S[4]||(S[4]=V=>ve(a)?a.value=V:null),title:"导出数据"},{default:u(()=>[i(c(Is),{data:c(n),virtual:"",deep:2},null,8,["data"]),i(C,{onClick:w,ref_key:"someRef",ref:r},{default:u(()=>[b("复制到剪贴板")]),_:1},512)]),_:1},8,["modelValue"])])}}});const Pa=Object.freeze(Object.defineProperty({__proto__:null,default:ya},Symbol.toStringTag,{value:"Module"})),De=class De extends sa{constructor(){super();l(this,"id","");l(this,"skills",{});l(this,"tag");this.tag="BaseUnit"}init(){this.initSkills()}initSkills(){}get data(){return this.m_data}};l(De,"SKILL_ID","skid"),l(De,"SKILL_LEVEL","lev"),l(De,"STATUS_RATE",200),l(De,"STATUS_TIME",De.STATUS_RATE/1e3),l(De,"AOE_SILENCE_RANGE",1e3),l(De,"AOE_SILENCE_TIME",2);let Be=De;class ka extends Be{constructor(){super()}get buildingData(){return this.m_data}get range(){return this.buildingData.range}get skillInfo(){const t=Object.values(this.skills);t.sort((s,a)=>s.index-a.index);const e=t.map(s=>s.skillInfo).filter(s=>s!="").join(`
`);return e==""?this.buildingData.info:e}}class Ma extends Be{constructor(e){super();l(this,"damage",0);l(this,"range",0);l(this,"attackType");this.m_data=hl.getOnlyExample().getData(e),this.attackType=cl.EFFECT_TYPE_ALL}get bulletData(){return this.m_data}}const rt=class rt extends ka{constructor(e){super();l(this,"m_level",0);l(this,"gem",null);l(this,"m_attackType","");this.tag="Tower",e&&(this.m_data=dl.getOnlyExample().getData(e),this.initTower()),this.level=1}static fromData(e){const s=new rt(null);return s.m_data=e,s.initTower(),s}get towerData(){return this.m_data}initTower(){this.initSkills()}initSkills(){if(this.skills={},this.towerData.skillPackageId!=""){const e=new Gl(this.towerData.skillPackageId,this.towerData.skillPackageLevel);if(e!=null&&e.skillsPackageData!=null)for(const s of e.skillsPackageData.skillsList){const a=new X(s,e.level,this).getSubClasses();this.skills[a.data.kindId]=a}}if(this.gem){const e=this.gem.gemData.getSkillPackage(this.data.id);if(e!=null&&e.skillsPackageData!=null)for(const s of e.skillsPackageData.skillsList){const a=new X(s,e.level,this).getSubClasses();this.skills[a.data.kindId]=a}this.skills[T.KIND_SCATTER_ATTACK]&&delete this.skills[T.KIND_DIVIDED_ATTACK]}}get color(){return this.gem!=null?this.gem.gemData.color:6316128}get level(){return this.m_level}set level(e){this.m_level=e}get gemLevel(){return this.gem?this.gem.gemData.gemLevel:0}get ability(){const e=this.gemLevel;return this.towerData.isMagicTower?e==0?0:this.m_level*(.8+e/5)*2:this.m_level*(1+e/10)}get power(){const e=this.level,s=N.$_tower_worth_factor,a=this.gemLevel,n=this.valueCostConst(e);return Math.round((n+Math.pow(a,s[0])*s[1])*(s[2]+a/s[3]))}buildValue(e=-1){return e==-1&&(e=this.level),Math.floor(this.towerData.buildValueA+this.towerData.buildValueB*e+this.towerData.buildValueC*e*e)}buildCost(e=-1){return e==-1&&(e=this.level),Math.floor(this.towerData.buildCostA+this.towerData.buildCostB*e+this.towerData.buildCostC*e*e)}valueCost(e=-1){e==-1&&(e=this.level);const s=e*this.towerData.buildCostA+(e*e+e)/2*this.towerData.buildCostB+(e*e*e+e*e*3/2+e/2)/3*this.towerData.buildCostC+this.towerData.buildCost-this.towerData.buildCostA-this.towerData.buildCostB-this.towerData.buildCostC;return Math.round(s)}valueCostConst(e=-1){e==-1&&(e=this.level);const s=e*this.towerData.buildCostAConst+(e*e+e)/2*this.towerData.buildCostBConst+(e*e*e+e*e*3/2+e/2)/3*this.towerData.buildCostCConst+this.towerData.buildCostConst-this.towerData.buildCostAConst-this.towerData.buildCostBConst-this.towerData.buildCostCConst;return Math.round(s)}buffEffect(e=-1){return e==-1&&(e=this.level),this.towerData.buffEffect*e+1}damage(e=-1){let s=0;if(e==-1&&(e=this.level),this.skills[T.KIND_CHANGE_DAMAGE]instanceof Ml){let a=this.skills[T.KIND_CHANGE_DAMAGE];a.isChangeBase()?s=Math.round((a.damageA+a.damageB*e+a.damageC*e*e)*a.damageRate+a.damageAdd):s=Math.round((this.towerData.damageA+this.towerData.damageB*e+this.towerData.damageC*e*e)*a.damageRate+a.damageAdd)}else s=Math.round(this.towerData.damageA+this.towerData.damageB*e+this.towerData.damageC*e*e);return Math.max(s,0)}get range(){let e=0;if(this.skills[T.KIND_CHANGE_RANGE]instanceof Fl){let s=this.skills[T.KIND_CHANGE_RANGE];s.isChangeBase()?e=s.range*s.rangeRate+s.rangeAdd:e=this.towerData.range*s.rangeRate+s.rangeAdd}else e=this.towerData.range;return e}get rate(){let e=0;if(this.skills[T.KIND_CHANGE_RATE]instanceof Ul){let s=this.skills[T.KIND_CHANGE_RATE];s.isChangeBase()?e=Math.round(s.rate*s.rateRate):e=Math.round(this.towerData.rate*s.rateRate)}else e=this.towerData.rate;return e}setGem(e){this.gem=e,this.initSkills()}newBullet(){return new Ma(this.getBulletId())}getBulletId(){let e=null;return this.skills[T.KIND_CHANGE_BULLET]instanceof kl?(e=this.skills[T.KIND_CHANGE_BULLET],e.bulletId):this.towerData.bulletId}getInfoHtml(){return Ft(this.skillInfo,this.color,!1,"14px")}};l(rt,"TOWER","tower"),l(rt,"GEM","gem");let Et=rt;const Fa={class:"space-x-2"},Ua=J({__name:"TowerDataForm",props:{tower:{}},setup(_){const t=_;he({});const e=le(N.$_towerAtt_Obj.shaota),s=a=>{t.tower.m_data=new vl(a)};return(a,n)=>{const o=ke,r=Me,m=je,h=Ee,p=Xe,x=Il;return g(),M(x,null,{default:u(()=>[i(p,{"label-width":"100px"},{default:u(()=>[i(m,{label:"原型"},{default:u(()=>[i(r,{modelValue:c(e),"onUpdate:modelValue":n[0]||(n[0]=v=>ve(e)?e.value=v:null),"value-key":"id",onChange:s},{default:u(()=>[(g(!0),D(F,null,G(c(N).$_towerAtt_Obj,(v,L)=>(g(),M(o,{key:L,label:v.name,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),i(m,{label:"等级"},{default:u(()=>[i(h,{modelValue:a.tower.m_level,"onUpdate:modelValue":n[1]||(n[1]=v=>a.tower.m_level=v)},null,8,["modelValue"])]),_:1}),i(m,{label:"damage"},{default:u(()=>[E("div",Fa,[E("span",null,[b(" a: "),i(h,{modelValue:a.tower.towerData.damageA,"onUpdate:modelValue":n[2]||(n[2]=v=>a.tower.towerData.damageA=v),"controls-position":"right",step:c(Fe)(c(e).damage.a),style:{width:"100px"}},null,8,["modelValue","step"])]),E("span",null,[b(" b: "),i(h,{modelValue:a.tower.towerData.damageB,"onUpdate:modelValue":n[3]||(n[3]=v=>a.tower.towerData.damageB=v),"controls-position":"right",step:c(Fe)(c(e).damage.b),style:{width:"100px"}},null,8,["modelValue","step"])]),E("span",null,[b(" c: "),i(h,{modelValue:a.tower.towerData.damageC,"onUpdate:modelValue":n[4]||(n[4]=v=>a.tower.towerData.damageC=v),"controls-position":"right",step:c(Fe)(c(e).damage.c),style:{width:"100px"}},null,8,["modelValue","step"])])])]),_:1}),i(m,{label:"rate"},{default:u(()=>[i(h,{modelValue:a.tower.towerData.rate,"onUpdate:modelValue":n[5]||(n[5]=v=>a.tower.towerData.rate=v),step:c(Fe)(c(e).rate)},null,8,["modelValue","step"])]),_:1}),i(m,{label:"range"},{default:u(()=>[i(h,{modelValue:a.tower.towerData.range,"onUpdate:modelValue":n[6]||(n[6]=v=>a.tower.towerData.range=v),step:c(Fe)(c(e).range)},null,8,["modelValue","step"])]),_:1}),i(m,{label:"buffEffect"},{default:u(()=>[i(h,{modelValue:a.tower.towerData.buffEffect,"onUpdate:modelValue":n[7]||(n[7]=v=>a.tower.towerData.buffEffect=v),step:c(Fe)(c(e).buffEffect)},null,8,["modelValue","step"])]),_:1})]),_:1})]),_:1})}}}),Va=["innerHTML"],$a=J({__name:"TowerInfo",props:{tower:{}},setup(_){return(t,e)=>{const s=je,a=Xe,n=Il;return g(),M(n,null,{default:u(()=>[i(a,{"label-width":"80px"},{default:u(()=>[i(s,{label:"damage"},{default:u(()=>[b(I(t.tower.damage()),1)]),_:1}),i(s,{label:"rate"},{default:u(()=>[b(I(t.tower.rate),1)]),_:1}),i(s,{label:"range"},{default:u(()=>[b(I(t.tower.range),1)]),_:1}),i(s,{label:"简介"},{default:u(()=>[E("div",{innerHTML:t.tower.getInfoHtml(),style:{"line-height":"1.5em"}},null,8,Va)]),_:1})]),_:1})]),_:1})}}}),Ba={key:0,class:"ml-2 space-x-2"},Ha=J({__name:"TowerSkillItem",props:mt({tower:{}},{modelValue:{required:!0}}),emits:mt(["update:model-value"],["update:modelValue"]),setup(_,{emit:t}){const e=_,s=ml(_,"modelValue"),a=le(),n=()=>{a.value=N.skillTemplates[s.value.kindId],s.value.params=a.value.params.slice()};return gt(()=>s.value.kindId,(o,r)=>{var m;if(r!=o){delete e.tower.skills[r];const h=new X(a.value.id,((m=e.tower.skills[o])==null?void 0:m.level)??50,e.tower).getSubClasses();h.m_data=new T(s.value),e.tower.skills[o]=h}}),gt(s,(o,r)=>{e.tower.skills[o.kindId].m_data=new T(o)},{deep:!0}),is(()=>{s.value.kindId&&delete e.tower.skills[s.value.kindId]}),(o,r)=>{const m=ke,h=Me,p=El,x=Ee;return g(),D("div",null,[i(h,{modelValue:s.value.kindId,"onUpdate:modelValue":[r[0]||(r[0]=v=>s.value.kindId=v),n]},{default:u(()=>[(g(!0),D(F,null,G(Object.keys(c(N).skillTemplates),v=>(g(),D(F,{key:v},[v in o.tower.skills?pe("",!0):(g(),M(m,{key:0,label:v,value:v},null,8,["label","value"]))],64))),128))]),_:1},8,["modelValue"]),c(a)?(g(),D("span",Ba,[(g(!0),D(F,null,G(c(a).params,(v,L)=>(g(),D(F,null,[typeof v=="string"?(g(),M(p,{key:0,modelValue:s.value.params[L],"onUpdate:modelValue":P=>s.value.params[L]=P,size:"small",style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(g(),M(x,{key:1,modelValue:s.value.params[L],"onUpdate:modelValue":P=>s.value.params[L]=P,size:"small","controls-position":"right",step:c(Fe)(v),style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue","step"]))],64))),256))])):pe("",!0)])}}}),Ga=J({__name:"TowerSkillTable",props:{tower:{}},setup(_){const t=he([]),e=le(),s=()=>{t.push({data:{kindId:"",params:[]}})},a=(n,o)=>{t.splice(n,1)};return(n,o)=>{const r=Ge,m=Ee,h=ct;return g(),D("div",null,[i(c(We),{ref_key:"skillTableRef",ref:e,data:c(t),stripe:"",border:"","table-layout":"auto",style:{"font-size":"small"}},{default:u(()=>[i(r,{label:"Skill","header-align":"center"},{default:u(p=>[i(Ha,{tower:n.tower,modelValue:p.row.data,"onUpdate:modelValue":x=>p.row.data=x},null,8,["tower","modelValue","onUpdate:modelValue"])]),_:1}),i(r,{label:"Level","header-align":"center",width:130},{default:u(p=>[n.tower.skills[p.row.data.kindId]?(g(),M(m,{key:0,modelValue:n.tower.skills[p.row.data.kindId].level,"onUpdate:modelValue":x=>n.tower.skills[p.row.data.kindId].level=x,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"])):pe("",!0)]),_:1}),i(r,{label:"Info","header-align":"center"},{default:u(p=>{var x;return[b(I((x=n.tower.skills[p.row.data.kindId])==null?void 0:x.skillInfo),1)]}),_:1}),i(r,{label:"操作",width:100,align:"center"},{default:u(p=>[i(h,{size:"small",type:"danger",onClick:x=>a(p.$index,p.row)},{default:u(()=>[b(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),i(h,{onClick:s},{default:u(()=>[b("新增")]),_:1})])}}}),Wa=J({__name:"tower-design",setup(_){const t=he(new Et(null));return t.m_data=new vl(N.$_towerAtt_Obj.shaota),(e,s)=>{const a=Tl,n=Ll;return g(),D(F,null,[i(n,{gutter:20},{default:u(()=>[i(a,{span:12},{default:u(()=>[i(Ua,{tower:c(t)},null,8,["tower"])]),_:1}),i(a,{span:12},{default:u(()=>[i($a,{tower:c(t)},null,8,["tower"])]),_:1})]),_:1}),i(Ga,{tower:c(t),class:"mt-2"},null,8,["tower"])],64)}}}),ja=Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"}));class Xa extends dt{constructor(t){super(),this.m_data=ul.getOnlyExample().getData(t)}get gemData(){return this.m_data}}const Ya=["innerHTML"],za=E("p",null,"注：升级经验为塔下一级的 buildValue 值",-1),qa=J({__name:"towers",setup(_){const t=he({isDefendMap:!1,towerId:"shaota",gemId:"",level:1,buildFrom:0,buildTo:1,buildPower:50}),e=B.map(N.$_towerAtt_Obj,(r,m)=>[r.name,m]),s=B.chain(N.$_global_properties.gem).toPairs().sortBy(r=>Number(Math.abs(r[1].index))).map(r=>[`${r[1].name} [${r[1].index}]`,r[0]]).value(),a=j(()=>{const r=new Et(t.towerId);return r.level=t.level,t.gemId!==""&&r.setGem(new Xa(t.gemId)),r}),n=()=>{ee.currentMap=new ee(t.isDefendMap?ee.DEFEND_MAP_1:ee.ENDLESS_MAP_1)},o=j(()=>{let r=0;if(t.buildFrom>t.buildTo)return NaN;for(let m=t.buildFrom+1;m<=t.buildTo;m++)r+=a.value.buildValue(m);return Math.round(r/t.buildPower)});return(r,m)=>{const h=us,p=je,x=ke,v=Me,L=Tl,P=Ll,w=Ee,R=Xe;return g(),M(R,{model:c(t),"label-width":"120px"},{default:u(()=>[i(p,{label:"是否为防线"},{default:u(()=>[i(h,{modelValue:c(t).isDefendMap,"onUpdate:modelValue":m[0]||(m[0]=S=>c(t).isDefendMap=S),onChange:n},null,8,["modelValue"])]),_:1}),i(P,null,{default:u(()=>[i(L,{span:12},{default:u(()=>[i(p,{label:"塔"},{default:u(()=>[i(v,{modelValue:c(t).towerId,"onUpdate:modelValue":m[1]||(m[1]=S=>c(t).towerId=S)},{default:u(()=>[(g(!0),D(F,null,G(c(e),([S,C])=>(g(),M(x,{key:C,label:S,value:C},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),i(L,{span:12},{default:u(()=>[i(p,{label:"宝石"},{default:u(()=>[i(v,{modelValue:c(t).gemId,"onUpdate:modelValue":m[2]||(m[2]=S=>c(t).gemId=S)},{default:u(()=>[i(x,{label:"无",value:""}),(g(!0),D(F,null,G(c(s),([S,C])=>(g(),M(x,{key:C,label:S,value:C},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),i(P,null,{default:u(()=>[i(L,{span:8},{default:u(()=>[i(p,{label:"等级"},{default:u(()=>[i(w,{modelValue:c(t).level,"onUpdate:modelValue":m[3]||(m[3]=S=>c(t).level=S),min:1},null,8,["modelValue"])]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"等级上限"},{default:u(()=>[E("label",null,I(c(a).towerData.levelMax),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"升级经验"},{default:u(()=>[E("label",null,I(c(a).buildValue(c(a).level+1)),1)]),_:1})]),_:1})]),_:1}),i(P,null,{default:u(()=>[i(L,{span:8},{default:u(()=>[i(p,{label:"攻击力"},{default:u(()=>[E("label",null,I(c(a).damage()),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"攻击频率"},{default:u(()=>[E("label",null,I(c(a).rate),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"攻击范围"},{default:u(()=>[E("label",null,I(c(a).range),1)]),_:1})]),_:1})]),_:1}),i(p,{label:"简介"},{default:u(()=>[E("div",{innerHTML:c(a).getInfoHtml(),style:{"line-height":"1.5em"}},null,8,Ya)]),_:1}),i(P,null,{default:u(()=>[i(L,{span:8},{default:u(()=>[i(p,{label:"ability"},{default:u(()=>[E("label",null,I(c(a).ability.toFixed(1)),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"power"},{default:u(()=>[E("label",null,I(c(a).power),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"buffEffect"},{default:u(()=>[E("label",null,I(c(a).buffEffect().toFixed(1)),1)]),_:1})]),_:1})]),_:1}),i(P,null,{default:u(()=>[i(L,{span:8},{default:u(()=>[i(p,{label:"buildValue"},{default:u(()=>[E("label",null,I(c(a).buildValue()),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"buildCost"},{default:u(()=>[E("label",null,I(c(a).buildCost()),1)]),_:1})]),_:1}),i(L,{span:8},{default:u(()=>[i(p,{label:"valueCost"},{default:u(()=>[E("label",null,I(c(a).valueCost()),1)]),_:1})]),_:1})]),_:1}),E("div",null,[i(p,{label:"升级计算",style:{"margin-bottom":"0 !important"}},{default:u(()=>[b(" 从 "),i(w,{modelValue:c(t).buildFrom,"onUpdate:modelValue":m[4]||(m[4]=S=>c(t).buildFrom=S),size:"small","controls-position":"right",style:{width:"5em",margin:"0.5em"}},null,8,["modelValue"]),b(" 级到 "),i(w,{modelValue:c(t).buildTo,"onUpdate:modelValue":m[5]||(m[5]=S=>c(t).buildTo=S),size:"small","controls-position":"right",style:{width:"5em",margin:"0.5em"}},null,8,["modelValue"]),b(" 级， 苦工总力量 "),i(w,{modelValue:c(t).buildPower,"onUpdate:modelValue":m[6]||(m[6]=S=>c(t).buildPower=S),size:"small","controls-position":"right",style:{width:"8em",margin:"0.5em"}},null,8,["modelValue"])]),_:1}),i(p,{style:{"margin-bottom":"0 !important"}},{default:u(()=>[b(" 需要时间："),E("label",null,I(c(na)(c(o))),1)]),_:1}),za])]),_:1},8,["model"])}}}),Ja=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"})),Za=J({__name:"WolfNumberChart",props:{data:{},max:{}},setup(_){bt([xt,Dl,Nt,wt,Rt]);const t=_,e=j(()=>({color:["#C00000"],xAxis:{type:"value",interval:1,axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},max:t.max},yAxis:{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{fontSize:14},data:t.data.map(s=>s.name)},grid:{left:100,top:0,bottom:20},series:{type:"bar",barWidth:"60%",label:{show:!0,position:"right"},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},data:t.data.map(s=>s.num)}}));return(s,a)=>(g(),M(c(St),{class:"chart",option:c(e)},null,8,["option"]))}});const Qa=Ye(Za,[["__scopeId","data-v-1d3eb83e"]]),Yl=_=>(gl("data-v-f1493d69"),_=_(),pl(),_),en=Yl(()=>E("h3",null,"波工具",-1)),tn=Yl(()=>E("label",null,"下表为预留量",-1)),ln=J({__name:"WaveTool",props:{mid:{},mapMonsterData:{}},setup(_){const t=_,e=he({count:0,avgHp:"",reservation:[0,0,0,0,0,0,0],extra:"",result:"",resultRaw:""});let s=he([]);const a=()=>{e.reservation.fill(0)},n=()=>{let o=Da(t.mid,[...e.reservation]);if(!o){Kl.error("预留量不合法，请重新输入！");return}let[r,m]=o;e.extra&&(r=B.shuffle(r.concat(e.extra.split(",").map(h=>h.trim())))),e.resultRaw=`[${r.map(h=>`"${h}"`).join(",")}]`,e.result=fe(r).join(","),s=m.map(h=>({name:fe(h[0]),num:h[1]})),e.count=B.sumBy(m,h=>h[1])};return(o,r)=>{const m=ct,h=Ee,p=El,x=Il;return g(),M(x,{id:"wave-tool"},{default:u(()=>[en,i(m,{onClick:n},{default:u(()=>[b("随机生成波")]),_:1}),E("span",null,[b(" 共 "),i(h,{modelValue:c(e).count,"onUpdate:modelValue":r[0]||(r[0]=v=>c(e).count=v)},null,8,["modelValue"]),b(" 只狼，平均血量 "),i(p,{modelValue:c(e).avgHp,"onUpdate:modelValue":r[1]||(r[1]=v=>c(e).avgHp=v),modelModifiers:{number:!0},style:{width:"100px"}},null,8,["modelValue"])]),i(m,null,{default:u(()=>[b("组成推算")]),_:1}),E("div",null,[E("p",null,[tn,i(m,{size:"small",onClick:a},{default:u(()=>[b("重置")]),_:1})]),E("table",null,[E("tbody",null,[E("tr",null,[(g(!0),D(F,null,G(o.mapMonsterData,v=>(g(),D("td",{key:v.id},I(v.name),1))),128))]),E("tr",null,[(g(!0),D(F,null,G(o.mapMonsterData,(v,L)=>(g(),D("td",{key:v.id},[i(h,{modelValue:c(e).reservation[L],"onUpdate:modelValue":P=>c(e).reservation[L]=P,size:"small","controls-position":"right",min:0},null,8,["modelValue","onUpdate:modelValue"])]))),128))])])]),E("p",null,[b(" 额外："),i(p,{modelValue:c(e).extra,"onUpdate:modelValue":r[2]||(r[2]=v=>c(e).extra=v),style:{width:"580px"},placeholder:"多个请用半角逗号分隔",spellcheck:"false"},null,8,["modelValue"])]),E("p",null,[b("波："),i(p,{modelValue:c(e).resultRaw,"onUpdate:modelValue":r[3]||(r[3]=v=>c(e).resultRaw=v),style:{width:"600px"},spellcheck:"false"},null,8,["modelValue"])]),E("p",null,[b("波："),i(p,{modelValue:c(e).result,"onUpdate:modelValue":r[4]||(r[4]=v=>c(e).result=v),style:{width:"600px"},spellcheck:"false"},null,8,["modelValue"])])]),i(Qa,{data:c(s),max:10},null,8,["data"])]),_:1})}}});const sn=Ye(ln,[["__scopeId","data-v-f1493d69"]]),an=_=>(gl("data-v-0bcbf842"),_=_(),pl(),_),nn={class:"space-x-8"},rn={class:"space-x-4"},on=an(()=>E("span",null,"（假设每波+2且不引狼）",-1)),un=J({__name:"UmapInfoForm",props:{mid:{}},emits:["update:mid"],setup(_){const t=ml(_,"mid"),e=B.chain(N.$_map_Obj).map((C,y)=>B.extend(C,{id:y})).toArray().sortBy("index").value(),s=B.chain(N.$_wolfAtt_Obj).toPairs().map(C=>{let y=C[1].name;return{value:C[0],label:y.includes("^")?y.substring(y.indexOf("^")+1):y}}).sortBy("id").value(),a=he({mid:"m1",mid2:"",wid:"dahuil",score:0,diff:1});Cl(()=>{t.value=a.mid});const n=j(()=>N.$_map_Obj[a.mid]),o=j(()=>ee.getMapData(a.mid)),r=j(()=>a.mid2===""?o.value:ee.getMapData(a.mid2)),m=j(()=>o.value.monsterList.map(C=>Ae.getOnlyExample().getData(C))),h=j(()=>Ae.getOnlyExample().getData(a.wid)),p=C=>C.map(y=>{let K=N.$_wolfAtt_Obj[y[1]];return{id:y[1],prob:y[0],name:K.name,pop:K.pop}}),x=C=>C?C.map(y=>{let K=N.$_wolfAtt_Obj[y[1]];return{id:y[1],prob:y[0],name:K.name,diff:parseFloat(y[2])}}):[],v=j(()=>r.value.getDifficultyLevel(a.score)),L=j(()=>h.value.getHpMax(v.value,a.diff)),P=j(()=>m.value.map(C=>({name:C.name,value:C.getHpMax(v.value,a.diff)}))),w=C=>{const y=o.value.populationMax;return Math.round((2+1.07*y)*Math.pow(C/.39,2/3))},R=C=>{const y=o.value.populationMax;return Math.round((3.5+.14*y)*Math.pow(C/.39,2/3))},S=j(()=>{let C=0,y=0;for(let K=0;K<=o.value.scoreMax;K+=2){let Y=Math.sqrt(o.value.hardA+o.value.hardB*K);C+=w(Y),y+=R(Y)}return{gold:C,exp:y}});return(C,y)=>{const K=ke,Y=Me,me=it,V=je,se=cs,Jl=Ee,Ct=vt("vue-latex"),Zl=Xe;return g(),D(F,null,[i(Zl,{model:c(a),"label-width":"120px"},{default:u(()=>[i(V,{label:"地图"},{default:u(()=>[i(Y,{modelValue:c(a).mid,"onUpdate:modelValue":y[0]||(y[0]=$=>c(a).mid=$)},{default:u(()=>[(g(!0),D(F,null,G(c(e),$=>(g(),M(K,{key:$.id,label:`${$.id} ${$.name}`,value:$.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(me,{effect:"light"},{default:u(()=>[b(" 难度系数："+I(c(o).hardA)+","+I(c(o).hardB),1)]),_:1}),i(me,{effect:"light"},{default:u(()=>[b(" Population："+I(c(o).populationMax),1)]),_:1})]),_:1}),i(V,{label:"引狼到"},{default:u(()=>[i(Y,{modelValue:c(a).mid2,"onUpdate:modelValue":y[1]||(y[1]=$=>c(a).mid2=$),clearable:""},{default:u(()=>[i(K,{label:"无",value:""}),(g(!0),D(F,null,G(c(e),$=>(g(),M(K,{key:$.id,label:`${$.id} ${$.name}`,value:$.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),i(V,{label:"该地图的狼"},{default:u(()=>[(g(!0),D(F,null,G(p(c(n).wolf_proportion),$=>(g(),M(me,{key:$.id,type:"success",class:"mx-1 tag-button",effect:"light",onClick:Ql=>c(a).wid=$.id},{default:u(()=>[E("sub",null,I($.prob),1),b(" "+I($.name)+" ",1),E("sup",null,I($.pop),1)]),_:2},1032,["onClick"]))),128))]),_:1}),"random_boss"in c(n)?(g(),M(V,{key:0,label:"随机 Boss"},{default:u(()=>[(g(!0),D(F,null,G(x(c(n).random_boss),$=>(g(),M(me,{key:$.id,type:"success",class:"mx-1 tag-button",effect:"light",onClick:Ql=>{c(a).wid=$.id,c(a).diff=$.diff}},{default:u(()=>[E("sub",null,I($.prob),1),b(" "+I($.name)+" ",1),E("sub",null,I($.diff),1)]),_:2},1032,["onClick"]))),128))]),_:1})):pe("",!0),i(V,{label:"狼"},{default:u(()=>[i(se,{modelValue:c(a).wid,"onUpdate:modelValue":y[2]||(y[2]=$=>c(a).wid=$),options:c(s)},null,8,["modelValue","options"]),i(me,{effect:"light"},{default:u(()=>[b(" 血量系数："+I(c(h).hpMaxA)+","+I(c(h).hpMaxB)+","+I(c(h).hpMaxC),1)]),_:1})]),_:1}),i(V,{label:"进度"},{default:u(()=>[i(Jl,{modelValue:c(a).score,"onUpdate:modelValue":y[3]||(y[3]=$=>c(a).score=$),min:0},null,8,["modelValue"]),i(me,{effect:"light",class:"tag-button",onClick:y[4]||(y[4]=$=>c(a).score=c(r).scoreMax)},{default:u(()=>[b(" 通关进度："+I(c(r).scoreMax),1)]),_:1})]),_:1}),i(V,{label:"难度"},{default:u(()=>[i(Y,{modelValue:c(a).diff,"onUpdate:modelValue":y[5]||(y[5]=$=>c(a).diff=$)},{default:u(()=>[i(K,{value:.8,label:"小菜一碟"}),i(K,{value:.9,label:"轻而易举"}),i(K,{value:1,label:"势均力敌"}),i(K,{value:1.1,label:"有惊无险"}),i(K,{value:1.2,label:"稍有难度"}),i(K,{value:1.3,label:"困难重重"})]),_:1},8,["modelValue"])]),_:1}),i(V,null,{default:u(()=>[E("div",nn,[E("span",null,[b(" 等级： "),i(Ct,{expression:`L(x)=\\sqrt{h_a + h_b x}=${c(v).toFixed(2)}`},null,8,["expression"])]),E("span",null,"最大血量："+I(c(L)),1)])]),_:1}),i(V,null,{default:u(()=>[b(" 银币： "),i(Ct,{expression:`G(x) = (2+1.07p)(\\frac{L(x)}{0.39})^{2/3} = ${w(c(v))}`},null,8,["expression"])]),_:1}),i(V,null,{default:u(()=>[b(" 经验： "),i(Ct,{expression:`E(x) = (3.5+0.14p)(\\frac{L(x)}{0.39})^{2/3} = ${R(c(v))}`},null,8,["expression"])]),_:1}),i(V,null,{default:u(()=>[E("div",rn,[E("span",null,"总银币："+I(c(S).gold),1),E("span",null,"总经验："+I(c(S).exp),1),on])]),_:1}),i(jl,{"hp-data":c(P)},null,8,["hp-data"])]),_:1},8,["model"]),i(sn,{mid:c(a).mid,mapMonsterData:c(m)},null,8,["mid","mapMonsterData"])],64)}}});const cn=Ye(un,[["__scopeId","data-v-0bcbf842"]]),dn=E("h2",{style:{"text-align":"center"}},"狼出现频率（按数量，供参考）",-1),_n=J({__name:"WaveDistribChart",props:{mid:{},height:{default:600},width:{default:600}},setup(_){bt([Dl,Ls,Nt,xt,wt,Ds,Rt,vs]);const t=_,e=j(()=>ws[t.mid]),s=j(()=>[N.$_map_Obj[t.mid].name,...N.$_map_Obj[t.mid].wolf_proportion.map(r=>fe(r[1]))]),a=j(()=>B.range(e.value.all.length)),n=j(()=>B.zip(s.value,[e.value.all,...e.value.each]).map((r,m)=>({title:r[0],pdf:r[1],cdf:[...Ws(r[1])]}))),o=j(()=>({color:n.value.flatMap(r=>[nt(r.title,70,50),nt(r.title,50,80)]),tooltip:{trigger:"axis",valueFormatter:r=>aa(r,6)},title:n.value.map((r,m)=>({text:r.title,left:"center",textVerticalAlign:"middle",top:t.height*((m+.5)/n.value.length)-5,z:-1,textStyle:{fontSize:t.height/n.value.length*.4,color:"#ccc"}})),xAxis:n.value.map((r,m)=>({gridIndex:m,type:"category",axisTick:{alignWithLabel:!0},data:a.value})),yAxis:n.value.flatMap((r,m)=>[{gridIndex:m,type:"value",alignTicks:!0,axisLine:{show:!0},axisTick:{show:!0,inside:!0,length:3}},{gridIndex:m,type:"value",position:"right",min:0,max:1,interval:.2,alignTicks:!0,axisLine:{show:!0},axisTick:{show:!0,inside:!0,length:3}}]),grid:n.value.map((r,m)=>({top:t.height*(m/n.value.length)+10,bottom:t.height*(1-(m+1)/n.value.length)+20})),series:n.value.flatMap((r,m)=>[{xAxisIndex:m,yAxisIndex:m*2,type:"bar",barWidth:"90%",data:r.pdf},{xAxisIndex:m,yAxisIndex:m*2+1,type:"line",smooth:!0,data:r.cdf}])}));return(r,m)=>(g(),D("div",null,[dn,i(c(St),{option:c(o),autoresize:"",style:{height:"600px"}},null,8,["option"])]))}}),hn=J({__name:"BossDistribChart",props:{mid:{}},setup(_){const t=_,e=le();bt([Ss,Nt,xt,bs,wt,Rt]);const s=he({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:[{left:"5%",right:"4%",bottom:"52%",containLabel:!0},{left:"5%",right:"4%",top:"52%",containLabel:!0}],dataset:{source:[]},xAxis:[{gridIndex:0},{gridIndex:1}],yAxis:[{type:"category",gridIndex:0},{type:"category",gridIndex:1}],series:[]});return Cl(()=>{const a=N.$_map_Obj[t.mid].random_boss;if(!a)return;const n=a.map((h,p)=>{var x;return[Object.keys(h[3].properties.card)[0],h[1],Math.round((h[0]-(((x=a[p-1])==null?void 0:x[0])??0))*1e3)/10]}),o=B.uniq(n.map(h=>h[0])).sort(),r=B.uniq(n.map(h=>h[1])).sort(),m=[["boss",...o]].concat(r.map(h=>[h].concat(new Array(o.length).fill(0))));for(const h of n)m[r.indexOf(h[1])+1][o.indexOf(h[0])+1]=h[2];for(let h=0;h<o.length;h++)m[0][h+1]=fe(o[h]);for(let h=0;h<r.length;h++)m[h+1][0]=fe(r[h]);s.dataset.source=m,s.series=[...new Array(o.length).fill({type:"bar",stack:`${t.mid}-totalA`,label:{show:!0},emphasis:{focus:"series"}}),...new Array(r.length).fill({type:"bar",stack:`${t.mid}-totalB`,seriesLayoutBy:"row",label:{show:!0},emphasis:{focus:"series"},xAxisIndex:1,yAxisIndex:1})]}),(a,n)=>(g(),D("div",null,[i(c(St),{ref_key:"chartRef",ref:e,option:c(s),autoresize:"","update-options":{notMerge:!0},style:{height:"600px"}},null,8,["option"])]))}}),mn=J({__name:"umapdetail",setup(_){const t=le("m1"),e=le("wolf");return(s,a)=>{const n=Tl,o=fl,r=Al,m=Ll;return g(),M(m,null,{default:u(()=>[i(n,{md:16},{default:u(()=>[i(cn,{mid:c(t),"onUpdate:mid":a[0]||(a[0]=h=>ve(t)?t.value=h:null)},null,8,["mid"])]),_:1}),i(n,{md:8,sm:16},{default:u(()=>[i(r,{modelValue:c(e),"onUpdate:modelValue":a[1]||(a[1]=h=>ve(e)?e.value=h:null),class:"chart-area"},{default:u(()=>[i(o,{label:"狼分布",name:"wolf"},{default:u(()=>[i(_n,{mid:c(t)},null,8,["mid"])]),_:1}),i(o,{label:"Boss分布",name:"boss"},{default:u(()=>[i(hn,{mid:c(t)},null,8,["mid"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const gn=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"})),pn=E("p",null,"前排解释：",-1),fn=E("p",null,"狼的等级随进度增加而增加。难度系数 hardA 影响初始狼等级，hardB 影响等级增长速率。",-1),An=E("p",null,"population 影响一波狼的容量。每只狼都会占用一定容量。",-1),En=E("p",null,"不同随机boss有出现权重。出现率、难度、奖励水平是相对应的，难的比较稀有，奖励也会比较好。",-1),In=J({__name:"umaps",setup(_){const t=B.map(N.$_map_Obj,(a,n)=>B.extend(a,{id:n})),e=(a,n)=>{let o=a.need_lev||0,r=n.need_lev||0;return o-r},s=a=>a.map(n=>{const o=Ae.getOnlyExample().getData(n[1]);return{prob:n[0],name:o.name,pop:o.population}});return(a,n)=>{const o=Ge,r=it,m=We;return g(),D(F,null,[pn,fn,An,En,i(m,{data:c(t),"default-sort":{prop:"index",order:"ascending"},"table-layout":"auto",stripe:"","header-cell-style":{"text-align":"center"},height:"600px",style:{width:"100%","font-size":"80%"},class:"testbox"},{default:u(()=>[i(o,{prop:"index",label:"index",sortable:"",align:"center",fixed:"",width:"70"}),i(o,{prop:"id",label:"id",sortable:"",align:"center",fixed:"",width:"80"}),i(o,{prop:"name",label:"name",sortable:"",align:"center",fixed:"",width:"80"}),i(o,{prop:"pass_score",label:"scoreMax",sortable:"",align:"center"}),i(o,{label:"hardnessFactor"},{default:u(()=>[i(o,{prop:"yield_val",label:"hardA",sortable:"",align:"center"}),i(o,{prop:"hard_ness",label:"hardB",sortable:"",align:"center"})]),_:1}),i(o,{prop:"pop_max",label:"populationMax",sortable:"",align:"center"}),i(o,{prop:"interval",label:"unkennelDelay",sortable:"",align:"center"}),i(o,{prop:"interval_rule",label:"unkennelRule",sortable:"",align:"center"}),i(o,{prop:"teleport_rule",label:"teleportRule",sortable:"",align:"center"}),i(o,{prop:"need_lev",label:"needLevel",sortable:"","sort-method":e,align:"center"}),i(o,{prop:"pass_by",label:"passBy",align:"center"},{default:u(h=>[b(I(h.row.pass_by.map(p=>c(N).$_map_Obj[p].name).join(", ")),1)]),_:1}),i(o,{prop:"wolf_proportion",label:"monsterList","cell-style":{"text-align":"left"}},{default:u(h=>[(g(!0),D(F,null,G(s(h.row.wolf_proportion),p=>(g(),M(r,{key:p.prob,class:"ml-2"},{default:u(()=>[E("sub",null,I(p.prob),1),b(" "+I(p.name)+" ",1),E("sup",null,I(p.pop),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["data"])],64)}}});const Tn=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})),Ln=J({__name:"user",setup(_){const t=he({level:1}),e=j(()=>((2*(t.level+1)+3)*(t.level+1)+4)*(t.level+1)+20),s=j(()=>Math.round((.015*t.level+.8)*t.level+2)),a=j(()=>Math.floor(t.level/4+1)),n=j(()=>(t.level+7)*s.value);return(o,r)=>{const m=Ee,h=je,p=Xe;return g(),M(p,{model:c(t),"label-width":"120px"},{default:u(()=>[i(h,{label:"等级"},{default:u(()=>[i(m,{modelValue:c(t).level,"onUpdate:modelValue":r[0]||(r[0]=x=>c(t).level=x),min:1},null,8,["modelValue"])]),_:1}),i(h,{label:"升级经验"},{default:u(()=>[E("label",null,I(c(e)),1)]),_:1}),i(h,{label:"力量"},{default:u(()=>[E("label",null,I(c(s)),1)]),_:1}),i(h,{label:"连升等级"},{default:u(()=>[E("label",null,I(c(a)),1)]),_:1}),i(h,{label:"苦工价格"},{default:u(()=>[E("label",null,I(c(n)),1)]),_:1})]),_:1},8,["model"])}}}),Dn=Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"})),at=class at extends Be{constructor(e,s=1,a=1,n=0){super();l(this,"index",0);l(this,"m_level",0);l(this,"exp",0);l(this,"hp",0);l(this,"hpMax",0);l(this,"hpRate");l(this,"skillList",[]);this.tag="Monster",this.updateData(e),this.hpRate=a,this.updateLevelExp(s,n),this.index=at.COUNT++}updateData(e){e==""&&(e="dahuil");let s=e.indexOf("|");s!=-1&&(e=e.slice(0,s)),this.m_data=Ae.getOnlyExample().getData(e),this.m_data==null&&(this.m_data=Ae.getOnlyExample().getData("dahuil"))}createSkills(e){return e.map(s=>new ue(s[Be.SKILL_ID],s[Be.SKILL_LEVEL],this).getSubClasses())}initSkills(){this.skills={};const e=this.data.skills;if(e!=null){this.skillList=this.createSkills(e);for(const s of this.skillList)this.skills[s.data.kindId]=s}}conflictSkillList(e){const s=[];if(e==null)return[];const a=N.$_conflict_skill_kind,n=e.data.kindId;this.skills[n]&&s.push(ue.getKindName(n));for(const o of a)if(o.indexOf(n)!=-1)for(let r=0;r<o.length;r++)n!=o[r]&&this.skills[o[r]]&&s.push(ue.getKindName(o[r]));return s}getSkillById(e){let s,a=null;for(s in this.skills)if(a=this.skills[s],a.data.id==e)return a;return null}updateLevelExp(e=0,s=0){this.level=e,this.exp=s}get allSkillsScore(){let e=1;for(const s of this.skillList)s.enabled&&(e*=this.getSkillScore(s.data.id,s.level));return e}getSkillScore(e,s){let a=null,n=N.$_skill_grade_score,o=e.indexOf("_");return e.indexOf("_")==-1?1:(a=e.slice(o+1,e.length),n[a]&&n[a][String(s)]?n[a][String(s)]:1)}get levelMax(){return N.$_camp_wolf_lv_max}get expMax(){let e=this.m_level+1;return Math.round(this.monsterData.expMaxA+this.monsterData.expMaxB*e+this.monsterData.expMaxC*e*e+this.monsterData.expMaxD*e*e*e)}get level(){return this.m_level}set level(e){this.m_level=Math.max(Math.min(e,this.levelMax),0),ee.currentMap&&ee.currentMap&&(this.hpMax=Math.floor((this.monsterData.hpMaxA+this.monsterData.hpMaxB*this.m_level+this.monsterData.hpMaxC*this.m_level*this.m_level)*this.hpRate)),this.hpMax<=1&&(this.hpMax=1)}refreshLevel(){this.hpMax=Math.floor((this.monsterData.hpMaxA+this.monsterData.hpMaxB*this.m_level+this.monsterData.hpMaxC*this.m_level*this.m_level)*this.hpRate*1),this.hpMax<=1&&(this.hpMax=1)}get monsterData(){return this.m_data}get power(){let e=N.$_wolf_worth_factor,s=this.hpMax,a=this.monsterData.speedBase,n=this.allSkillsScore;return Math.round(s*a*n*e[2])}get skillInfo(){if(this.skills==null)return"";const e=Object.values(this.skills);return e.sort((s,a)=>s.index-a.index),e.map(s=>s.skillInfo).join("")}};l(at,"MONSTER_SAY_ARRAY",[d.getLanguageStr(1250),d.getLanguageStr(1251),d.getLanguageStr(1252),d.getLanguageStr(1253),d.getLanguageStr(1254),d.getLanguageStr(1255),d.getLanguageStr(1256),d.getLanguageStr(1257),d.getLanguageStr(1258),d.getLanguageStr(1259)]),l(at,"WEIGHTILY_SIZE",487500),l(at,"COUNT",0);let ut=at;const Sl=B.sortBy(B.map(N.$_wolfAtt_Obj,(_,t)=>({id:t,name:_.name,label:`${fe(t)} [${t}]`})),"id"),zl=Sl.filter(_=>_.name.startsWith("camp_")),ql=Sl.filter(_=>_.id.startsWith("D_")),vn=B.difference(Sl,zl,ql),Sn=J({__name:"WolfSelect",setup(_){return(t,e)=>{const s=ke,a=ds,n=Me;return g(),M(n,null,{default:u(()=>[i(a,{label:"前线"},{default:u(()=>[(g(!0),D(F,null,G(c(vn),o=>(g(),M(s,{key:o.id,label:o.label,value:o.id},null,8,["label","value"]))),128))]),_:1}),i(a,{label:"防线"},{default:u(()=>[(g(!0),D(F,null,G(c(zl),o=>(g(),M(s,{key:o.id,label:o.label,value:o.id},null,8,["label","value"]))),128))]),_:1}),i(a,{label:"噩梦"},{default:u(()=>[(g(!0),D(F,null,G(c(ql),o=>(g(),M(s,{key:o.id,label:o.label,value:o.id},null,8,["label","value"]))),128))]),_:1})]),_:1})}}}),bn={class:"text-xs"},Nn={class:"sk-tag text-xs"},xn=J({__name:"WolfSkillTable",props:{wolf:{}},emits:["change"],setup(_,{emit:t}){const e=_,s=t,a=le(),n=B.groupBy(N.$_skillAtt_Obj.monsterSkill,L=>L.kindId);B.each(n,(L,P)=>n[P]=B.sortBy(L,"id"));const o=Object.keys(n).sort();let r=he([]);gt(()=>e.wolf.data.id,()=>{var L,P;e.wolf.initSkills(),r.length=0,r.push(...e.wolf.skillList.map((w,R)=>m(w,R))),(L=a.value)==null||L.clearSelection(),(P=a.value)==null||P.toggleAllSelection()});const m=(L,P=0)=>he({index:P,kindId:L.data.kindId,id:L.data.id,name:L.data.name,level:L.level,levelMax:L.levelMax,score:L.skillScore,info:L.skillInfo,tags:L.skillTag1+L.skillTag2+L.skillTag3,skill:L});function h(L){L.id=n[L.kindId][0].id,L.level=1,p(L)}const p=L=>{const P=r.indexOf(L),w=new ue(L.id,L.level,e.wolf).getSubClasses();e.wolf.skillList[P]=w,Object.assign(L,m(w,P)),s("change")},x=()=>{var P;const L=m(new ue("WeakFire_X1",1,e.wolf).getSubClasses(),r.length);r.push(L),(P=a.value)==null||P.toggleRowSelection(L,!0),s("change")},v=L=>{e.wolf.skillList.forEach(P=>P.enabled=L.find(w=>w.skill==P)!==void 0)};return(L,P)=>{const w=Ge,R=ke,S=Me,C=Ee,y=ct;return g(),D("div",null,[i(c(We),{ref_key:"skillTableRef",ref:a,data:c(r),"row-key":"index",style:{"font-size":"small"},onSelectionChange:v},{default:u(()=>[i(w,{type:"selection","reverse-selection":"",width:30}),i(w,{label:"KindId",width:160,"header-align":"center"},{default:u(K=>[i(S,{modelValue:K.row.kindId,"onUpdate:modelValue":Y=>K.row.kindId=Y,onChange:Y=>h(K.row),style:{"font-size":"small"}},{default:u(()=>[(g(!0),D(F,null,G(c(o),Y=>(g(),M(R,{key:Y,label:Y,value:Y},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),i(w,{label:"Id",width:200,"header-align":"center"},{default:u(K=>[i(S,{modelValue:K.row.id,"onUpdate:modelValue":Y=>K.row.id=Y,onChange:Y=>p(K.row),style:{"font-size":"small"}},{default:u(()=>[(g(!0),D(F,null,G(c(n)[K.row.kindId],Y=>(g(),M(R,{key:Y.id,label:Y.id,value:Y.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),i(w,{prop:"name",label:"Name",width:120,"header-align":"center",align:"center"}),i(w,{prop:"level",label:"Level",width:120,"header-align":"center",align:"center"},{default:u(K=>[i(C,{modelValue:K.row.level,"onUpdate:modelValue":Y=>K.row.level=Y,min:1,max:K.row.levelMax,size:"small",style:{width:"80px"},onChange:Y=>p(K.row)},null,8,["modelValue","onUpdate:modelValue","max","onChange"])]),_:1}),i(w,{prop:"levelMax",label:"Level Max",width:120,"header-align":"center",align:"center"}),i(w,{prop:"score",label:"Score",width:120,"header-align":"center",align:"center"}),i(w,{label:"Info"},{default:u(K=>[E("span",bn,I(K.row.info),1),E("span",Nn,I(K.row.tags),1)]),_:1})]),_:1},8,["data"]),i(y,{onClick:x},{default:u(()=>[b("增加一行")]),_:1})])}}});const wn=Ye(xn,[["__scopeId","data-v-ddfed7e7"]]),Rn={class:"ml-2"},Cn={class:"ml-8"},Kn=E("p",null,"技能",-1),On=J({__name:"wolf-calc-one",props:{wolf:{}},setup(_){const t=he({wid:"al",level:1,expMax:0}),e=_;a();const s=n=>{e.wolf.updateData(n),a()};gt(()=>e.wolf.level,a);function a(){e.wolf.refreshLevel(),t.expMax=e.wolf.expMax}return(n,o)=>{const r=je,m=Ee,h=Xe;return g(),D(F,null,[i(h,{"label-width":80},{default:u(()=>[i(r,{label:"狼"},{default:u(()=>[i(Sn,{modelValue:c(t).wid,"onUpdate:modelValue":o[0]||(o[0]=p=>c(t).wid=p),onChange:s},null,8,["modelValue"])]),_:1}),i(r,{label:"等级"},{default:u(()=>[i(m,{modelValue:n.wolf.m_level,"onUpdate:modelValue":o[1]||(o[1]=p=>n.wolf.m_level=p),min:1},null,8,["modelValue"]),E("span",Rn,"最高等级："+I(n.wolf.levelMax),1)]),_:1}),i(r,{label:"速度"},{default:u(()=>[b(I(n.wolf.monsterData.speedBase),1)]),_:1}),i(r,{label:"升级经验"},{default:u(()=>[b(I(c(t).expMax),1)]),_:1}),i(r,{label:"血量"},{default:u(()=>[b(I(n.wolf.hpMax),1)]),_:1}),i(r,{label:"实力"},{default:u(()=>[b(I(n.wolf.power),1)]),_:1})]),_:1}),E("div",Cn,[Kn,i(wn,{wolf:n.wolf},null,8,["wolf"])])],64)}}}),yn=E("h2",null,"狼相关计算",-1),Pn=J({__name:"wolf-calc",setup(_){const t=he([new ut("dahuil")]),e=le(t[0].index),s=j(()=>{const[n,o]=N.$_wolf_worth_factor;return Math.round(Math.pow(B.sumBy(t,r=>Math.pow(r.power,n)),o))}),a=(n,o)=>{if(o==="add"){const r=new ut("dahuil");t.push(r),e.value=r.index}else if(o==="remove"){const r=t;let m=e.value;m===n&&r.forEach((h,p)=>{if(h.index===n){const x=r[p+1]||r[p-1];x&&(m=x.index)}}),e.value=m,t.splice(t.findIndex(h=>h.index===n),1)}};return(n,o)=>{const r=fl,m=Al;return g(),D("div",null,[yn,E("div",null,"总实力："+I(c(s)),1),i(m,{modelValue:c(e),"onUpdate:modelValue":o[0]||(o[0]=h=>ve(e)?e.value=h:null),type:"border-card",editable:"",onEdit:a,class:"m-4"},{default:u(()=>[(g(!0),D(F,null,G(c(t),(h,p)=>(g(),M(r,{key:h.index,label:h.monsterData.name,name:h.index},{default:u(()=>[i(On,{wolf:h},null,8,["wolf"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])}}}),kn=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),_t=_=>(gl("data-v-47137969"),_=_(),pl(),_),Mn=_t(()=>E("h1",null,"狼数据",-1)),Fn=_t(()=>E("p",null,"前排解释：",-1)),Un=_t(()=>E("p",null,"pop 为狼在一波中占的容量，一般来说 pop 越大则出现机会越少。",-1)),Vn=_t(()=>E("p",null,"charm 影响到寻路，charm 为负值越小则其他狼越会排斥它。",-1)),$n=_t(()=>E("p",null,"hp_factor 影响血量关于等级增长，是二次函数系数。",-1)),Bn={class:"sk-list"},Hn={key:0,class:"sk-debuff"},Gn={key:1,class:"sk-buff"},Wn={class:"sk-name"},jn={class:"sk-id"},Xn={class:"sk-info"},Yn={key:2,class:"sk-tag"},zn={key:3,class:"sk-tag"},qn={key:4,class:"sk-tag"},Jn=J({__name:"wolfs",setup(_){console.log("init wolfs");const t=B.map(N.$_wolfAtt_Obj,(e,s)=>s).sort().map(e=>{let s=new ut(e,0,0);s.initSkills();let a=s.monsterData;return{id:e,data:a,skills:Object.values(s.skills)}});return console.log(t),(e,s)=>{const a=Ge,n=We;return g(),D(F,null,[Mn,Fn,Un,Vn,$n,i(n,{data:c(t),"default-sort":{prop:"id",order:"ascending"},"table-layout":"auto",stripe:"","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"},"row-key":"id","max-height":"600",style:{width:"100%","max-width":"1200px"}},{default:u(()=>[i(a,{prop:"id",label:"id",sortable:"",width:150}),i(a,{prop:"data.name",label:"name",sortable:""}),i(a,{prop:"data.speedBase",label:"speedBase",sortable:""}),i(a,{prop:"data.population",label:"population",sortable:""}),i(a,{prop:"data.charm",label:"charm",sortable:"",width:100}),i(a,{label:"size"},{default:u(()=>[i(a,{prop:"data.width",label:"width",sortable:"",width:100}),i(a,{prop:"data.height",label:"height",sortable:"",width:100})]),_:1}),i(a,{label:"hpFactor"},{default:u(()=>[i(a,{prop:"data.hpMaxA",label:"a",sortable:"",width:100}),i(a,{prop:"data.hpMaxB",label:"b",sortable:"",width:100}),i(a,{prop:"data.hpMaxC",label:"c",sortable:"",width:100})]),_:1}),i(a,{label:"skills",type:"expand",width:"60"},{default:u(o=>[E("div",Bn,[(g(!0),D(F,null,G(o.row.skills,r=>(g(),D("p",{key:r.data.id},[r.isDebuff?(g(),D("span",Hn,"↓")):(g(),D("span",Gn,"↑")),E("span",Wn,I(r.name),1),E("span",jn,"["+I(r.data.id)+"]",1),E("span",Xn,I(r.skillInfo),1),r.skillTag1?(g(),D("span",Yn,I(r.skillTag1),1)):pe("",!0),r.skillTag2?(g(),D("span",zn,I(r.skillTag2),1)):pe("",!0),r.skillTag3?(g(),D("span",qn,I(r.skillTag3),1)):pe("",!0)]))),128))])]),_:1})]),_:1},8,["data"])],64)}}});const Zn=Ye(Jn,[["__scopeId","data-v-47137969"]]),Qn=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));
